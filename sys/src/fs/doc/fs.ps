%!PS-Adobe-2.0
%%Version: 0.1
%%DocumentFonts: (atend)
%%Pages: (atend)
%%EndComments
%
% Version 3.3.2 prologue for troff files.
%

/#copies 1 store
/aspectratio 1 def
/formsperpage 1 def
/landscape false def
/linewidth .3 def
/magnification 1 def
/margin 0 def
/orientation 0 def
/resolution 720 def
/rotation 1 def
/xoffset 0 def
/yoffset 0 def

/roundpage true def
/useclippath true def
/pagebbox [0 0 612 792] def

/R  /Times-Roman def
/I  /Times-Italic def
/B  /Times-Bold def
/BI /Times-BoldItalic def
/H  /Helvetica def
/HI /Helvetica-Oblique def
/HB /Helvetica-Bold def
/HX /Helvetica-BoldOblique def
/CW /Courier def
/CO /Courier def
/CI /Courier-Oblique def
/CB /Courier-Bold def
/CX /Courier-BoldOblique def
/PA /Palatino-Roman def
/PI /Palatino-Italic def
/PB /Palatino-Bold def
/PX /Palatino-BoldItalic def
/Hr /Helvetica-Narrow def
/Hi /Helvetica-Narrow-Oblique def
/Hb /Helvetica-Narrow-Bold def
/Hx /Helvetica-Narrow-BoldOblique def
/KR /Bookman-Light def
/KI /Bookman-LightItalic def
/KB /Bookman-Demi def
/KX /Bookman-DemiItalic def
/AR /AvantGarde-Book def
/AI /AvantGarde-BookOblique def
/AB /AvantGarde-Demi def
/AX /AvantGarde-DemiOblique def
/NR /NewCenturySchlbk-Roman def
/NI /NewCenturySchlbk-Italic def
/NB /NewCenturySchlbk-Bold def
/NX /NewCenturySchlbk-BoldItalic def
/ZD /ZapfDingbats def
/ZI /ZapfChancery-MediumItalic def
/S  /S def
/S1 /S1 def
/GR /Symbol def

/inch {72 mul} bind def
/min {2 copy gt {exch} if pop} bind def

/setup {
	counttomark 2 idiv {def} repeat pop

	landscape {/orientation 90 orientation add def} if
	/scaling 72 resolution div def
	linewidth setlinewidth
	1 setlinecap

	pagedimensions
	xcenter ycenter translate
	orientation rotation mul rotate
	width 2 div neg height 2 div translate
	xoffset inch yoffset inch neg translate
	margin 2 div dup neg translate
	magnification dup aspectratio mul scale
	scaling scaling scale

	addmetrics
	0 0 moveto
} def

/pagedimensions {
	useclippath userdict /gotpagebbox known not and {
		/pagebbox [clippath pathbbox newpath] def
		roundpage currentdict /roundpagebbox known and {roundpagebbox} if
	} if
	pagebbox aload pop
	4 -1 roll exch 4 1 roll 4 copy
	landscape {4 2 roll} if
	sub /width exch def
	sub /height exch def
	add 2 div /xcenter exch def
	add 2 div /ycenter exch def
	userdict /gotpagebbox true put
} def

/addmetrics {
	/Symbol /S null Sdefs cf
	/Times-Roman /S1 StandardEncoding dup length array copy S1defs cf
} def

/pagesetup {
	/page exch def
	currentdict /pagedict known currentdict page known and {
		page load pagedict exch get cvx exec
	} if
} def

/decodingdefs [
	{counttomark 2 idiv {y moveto show} repeat}
	{neg /y exch def counttomark 2 idiv {y moveto show} repeat}
	{neg moveto {2 index stringwidth pop sub exch div 0 32 4 -1 roll widthshow} repeat}
	{neg moveto {spacewidth sub 0.0 32 4 -1 roll widthshow} repeat}
	{counttomark 2 idiv {y moveto show} repeat}
	{neg setfunnytext}
] def

/setdecoding {/t decodingdefs 3 -1 roll get bind def} bind def

/w {neg moveto show} bind def
/m {neg dup /y exch def moveto} bind def
/done {/lastpage where {pop lastpage} if} def

/f {
	dup /font exch def findfont exch
	dup /ptsize exch def scaling div dup /size exch def scalefont setfont
	linewidth ptsize mul scaling 10 mul div setlinewidth
	/spacewidth ( ) stringwidth pop def
} bind def

/changefont {
	/fontheight exch def
	/fontslant exch def
	currentfont [
		1 0
		fontheight ptsize div fontslant sin mul fontslant cos div
		fontheight ptsize div
		0 0
	] makefont setfont
} bind def

/sf {f} bind def

/cf {
	dup length 2 idiv
	/entries exch def
	/chtab exch def
	/newencoding exch def
	/newfont exch def

	findfont dup length 1 add dict
	/newdict exch def
	{1 index /FID ne {newdict 3 1 roll put}{pop pop} ifelse} forall

	newencoding type /arraytype eq {newdict /Encoding newencoding put} if

	newdict /Metrics entries dict put
	newdict /Metrics get
	begin
		chtab aload pop
		1 1 entries {pop def} for
		newfont newdict definefont pop
	end
} bind def

%
% A few arrays used to adjust reference points and character widths in some
% of the printer resident fonts. If square roots are too high try changing
% the lines describing /radical and /radicalex to,
%
%	/radical	[0 -75 550 0]
%	/radicalex	[-50 -75 500 0]
%
% Move braceleftbt a bit - default PostScript character is off a bit.
%

/Sdefs [
	/bracketlefttp		[201 500]
	/bracketleftbt		[201 500]
	/bracketrighttp		[-81 380]
	/bracketrightbt		[-83 380]
	/braceleftbt		[203 490]
	/bracketrightex		[220 -125 500 0]
	/radical		[0 0 550 0]
	/radicalex		[-50 0 500 0]
	/parenleftex		[-20 -170 0 0]
	/integral		[100 -50 500 0]
	/infinity		[10 -75 730 0]
] def

/S1defs [
	/underscore		[0 80 500 0]
	/endash			[7 90 650 0]
] def
%
% Version 3.3.2 drawing procedures for dpost. Automatically pulled in when
% needed.
%

/inpath false def
/savematrix matrix def

/Dl {
	inpath
		{neg lineto pop pop}
		{newpath neg moveto neg lineto stroke}
	ifelse
} bind def

/De {
	/y1 exch 2 div def
	/x1 exch 2 div def
	/savematrix savematrix currentmatrix def
	neg exch x1 add exch translate
	x1 y1 scale
	0 0 1 0 360
	inpath
		{1 0 moveto arc savematrix setmatrix}
		{newpath arc savematrix setmatrix stroke}
	ifelse
} bind def

/Da {
	/dy2 exch def
	/dx2 exch def
	/dy1 exch def
	/dx1 exch def
	dy1 add neg exch dx1 add exch
	dx1 dx1 mul dy1 dy1 mul add sqrt
	dy1 dx1 neg atan
	dy2 neg dx2 atan
	inpath
		{arc}
		{newpath arc stroke}
	ifelse
} bind def

/DA {
	/dy2 exch def
	/dx2 exch def
	/dy1 exch def
	/dx1 exch def
	dy1 add neg exch dx1 add exch
	dx1 dx1 mul dy1 dy1 mul add sqrt
	dy1 dx1 neg atan
	dy2 neg dx2 atan
	inpath
		{arcn}
		{newpath arcn stroke}
	ifelse
} bind def

/Ds {
	/y2 exch def
	/x2 exch def
	/y1 exch def
	/x1 exch def
	/y0 exch def
	/x0 exch def
	x0 5 x1 mul add 6 div
	y0 5 y1 mul add -6 div
	x2 5 x1 mul add 6 div
	y2 5 y1 mul add -6 div
	x1 x2 add 2 div
	y1 y2 add -2 div
	inpath
		{curveto}
		{newpath x0 x1 add 2 div y0 y1 add -2 div moveto curveto stroke}
	ifelse
} bind def
%
% Tries to round clipping path dimensions, as stored in array pagebbox, so they
% match one of the known sizes in the papersizes array. Lower left coordinates
% are always set to 0.
%

/roundpagebbox {
    7 dict begin
	/papersizes [8.5 inch 11 inch 14 inch 17 inch] def

	/mappapersize {
		/val exch def
		/slop .5 inch def
		/diff slop def
		/j 0 def
		0 1 papersizes length 1 sub {
			/i exch def
			papersizes i get val sub abs
			dup diff le {/diff exch def /j i def} {pop} ifelse
		} for
		diff slop lt {papersizes j get} {val} ifelse
	} def

	pagebbox 0 0 put
	pagebbox 1 0 put
	pagebbox dup 2 get mappapersize 2 exch put
	pagebbox dup 3 get mappapersize 3 exch put
    end
} bind def

%%EndProlog
%%BeginSetup
mark
/magnification .9 def
%
% Encoding vector and redefinition of findfont for the ISO Latin1 standard.
% The 18 characters missing from ROM based fonts on older printers are noted
% below.
%

/ISOLatin1Encoding [
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/space
	/exclam
	/quotedbl
	/numbersign
	/dollar
	/percent
	/ampersand
	/quoteright
	/parenleft
	/parenright
	/asterisk
	/plus
	/comma
	/minus
	/period
	/slash
	/zero
	/one
	/two
	/three
	/four
	/five
	/six
	/seven
	/eight
	/nine
	/colon
	/semicolon
	/less
	/equal
	/greater
	/question
	/at
	/A
	/B
	/C
	/D
	/E
	/F
	/G
	/H
	/I
	/J
	/K
	/L
	/M
	/N
	/O
	/P
	/Q
	/R
	/S
	/T
	/U
	/V
	/W
	/X
	/Y
	/Z
	/bracketleft
	/backslash
	/bracketright
	/asciicircum
	/underscore
	/quoteleft
	/a
	/b
	/c
	/d
	/e
	/f
	/g
	/h
	/i
	/j
	/k
	/l
	/m
	/n
	/o
	/p
	/q
	/r
	/s
	/t
	/u
	/v
	/w
	/x
	/y
	/z
	/braceleft
	/bar
	/braceright
	/asciitilde
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/dotlessi
	/grave
	/acute
	/circumflex
	/tilde
	/macron
	/breve
	/dotaccent
	/dieresis
	/.notdef
	/ring
	/cedilla
	/.notdef
	/hungarumlaut
	/ogonek
	/caron
	/space
	/exclamdown
	/cent
	/sterling
	/currency
	/yen
	/brokenbar		% missing
	/section
	/dieresis
	/copyright
	/ordfeminine
	/guillemotleft
	/logicalnot
	/hyphen
	/registered
	/macron
	/degree			% missing
	/plusminus		% missing
	/twosuperior		% missing
	/threesuperior		% missing
	/acute
	/mu			% missing
	/paragraph
	/periodcentered
	/cedilla
	/onesuperior		% missing
	/ordmasculine
	/guillemotright
	/onequarter		% missing
	/onehalf		% missing
	/threequarters		% missing
	/questiondown
	/Agrave
	/Aacute
	/Acircumflex
	/Atilde
	/Adieresis
	/Aring
	/AE
	/Ccedilla
	/Egrave
	/Eacute
	/Ecircumflex
	/Edieresis
	/Igrave
	/Iacute
	/Icircumflex
	/Idieresis
	/Eth			% missing
	/Ntilde
	/Ograve
	/Oacute
	/Ocircumflex
	/Otilde
	/Odieresis
	/multiply		% missing
	/Oslash
	/Ugrave
	/Uacute
	/Ucircumflex
	/Udieresis
	/Yacute			% missing
	/Thorn			% missing
	/germandbls
	/agrave
	/aacute
	/acircumflex
	/atilde
	/adieresis
	/aring
	/ae
	/ccedilla
	/egrave
	/eacute
	/ecircumflex
	/edieresis
	/igrave
	/iacute
	/icircumflex
	/idieresis
	/eth			% missing
	/ntilde
	/ograve
	/oacute
	/ocircumflex
	/otilde
	/odieresis
	/divide			% missing
	/oslash
	/ugrave
	/uacute
	/ucircumflex
	/udieresis
	/yacute			% missing
	/thorn			% missing
	/ydieresis
] def

/NewFontDirectory FontDirectory maxlength dict def

%
% Apparently no guarantee findfont is defined in systemdict so the obvious
%
%	systemdict /findfont get exec
%
% can generate an error. So far the only exception is a VT600 (version 48.0).
%

userdict /@RealFindfont known not {
	userdict begin
		/@RealFindfont systemdict begin /findfont load end def
	end
} if

/findfont {
	dup NewFontDirectory exch known not {
		dup
		%dup systemdict /findfont get exec	% not always in systemdict
		dup userdict /@RealFindfont get exec
		dup /Encoding get StandardEncoding eq {
			dup length dict begin
				{1 index /FID ne {def}{pop pop} ifelse} forall
				/Encoding ISOLatin1Encoding def
				currentdict
			end
			/DummyFontName exch definefont
		} if
		NewFontDirectory 3 1 roll put
	} if
	NewFontDirectory exch get
} bind def

%%Patch from lp
%%EndPatch from lp

setup
%%EndSetup
%%Page: 1 1
/saveobj save def
mark
1 pagesetup
13 /LucidaSans-Demi f
(The) 2312 1230 w
(Diskless) 2607 1230 w
(Fileserver) 3219 1230 w
11 /LucidaSans-Italic f
(Erik) 2672 1490 w
(Quanstrom) 2917 1490 w
(quanstro@coraid.com) 2511 1620 w
(ABSTRACT) 2817 2095 w
11 /LucidaSansUnicode00 f
(The) 1116 2375 w
(Plan) 1387 2375 w
(9) 1681 2375 w
(Fileserver) 1822 2375 w
(is) 2406 2375 w
(structured) 2566 2375 w
(as) 3189 2375 w
(a) 3378 2375 w
(multilevel) 3512 2375 w
(cache) 4105 2375 w
(for) 4481 2375 w
(direct-) 4707 2375 w
(attached) 1116 2505 w
(WORM) 1624 2505 w
(storage.) 2017 2505 w
(I) 2535 2505 w
(describe) 2615 2505 w
(how) 3114 2505 w
(the) 3382 2505 w
(Fileserver) 3601 2505 w
(is) 4161 2505 w
(being) 4297 2505 w
(adapted) 4644 2505 w
(for) 1116 2635 w
(modern) 1310 2635 w
(hardware) 1765 2635 w
(using) 2303 2635 w
(network-attached) 2637 2635 w
(storage) 3634 2635 w
(\(AoE\)) 4076 2635 w
(over) 4392 2635 w
(10Gbps) 4665 2635 w
(Ethernet.) 1116 2765 w
(This) 1670 2765 w
(structure) 1933 2765 w
(allows) 2453 2765 w
(for) 2824 2765 w
(good) 3015 2765 w
(performance) 3323 2765 w
(and) 4038 2765 w
(high) 4273 2765 w
(reliability.) 4546 2765 w
(In) 1116 2895 w
(addition) 1254 2895 w
(it) 1731 2895 w
(separates) 1842 2895 w
(storage) 2393 2895 w
(maintenance) 2831 2895 w
(from) 3550 2895 w
(Fileserver) 3844 2895 w
(maintenance) 4395 2895 w
(and provides automatic offsite) 1116 3025 w
(backup without) 2780 3025 w
(performance) 3639 3025 w
(penalty.) 4352 3025 w
11 /LucidaSans-Demi f
(1.) 720 3415 w
(Introduction) 888 3415 w
11 /LucidaSansUnicode00 f
(In) 720 3585 w
(order) 863 3585 w
(to) 1194 3585 w
(meet) 1345 3585 w
(our) 1655 3585 w
(growing) 1878 3585 w
(performance) 2354 3585 w
(and) 3075 3585 w
(reliability) 3316 3585 w
(demands,) 3854 3585 w
(I) 4419 3585 w
(am) 4495 3585 w
(in) 4702 3585 w
(the) 4846 3585 w
(process) 5061 3585 w
(of) 720 3715 w
(rolling) 876 3715 w
(out) 1268 3715 w
(a) 1492 3715 w
(diskless) 1601 3715 w
(Fileserver.) 2076 3715 w
(The) 2705 3715 w
(system) 2951 3715 w
(consists) 3372 3715 w
(of) 3851 3715 w
(a) 4006 3715 w
(diskless) 4114 3715 w
(Intel-based) 4588 3715 w
(File\255) 5251 3715 w
(server,) 720 3845 w
(a) 1136 3845 w
(local) 1251 3845 w
(AoE) 1553 3845 w
(target) 1809 3845 w
(and) 2181 3845 w
(an) 2433 3845 w
(offset) 2616 3845 w
(AoE) 2978 3845 w
(target.) 3234 3845 w
(A) 3676 3845 w
(backup) 3806 3845 w
(Fileserver) 4247 3845 w
(in) 4814 3845 w
11 /LucidaSansUnicode20 f
(\034) 4969 3845 w
11 /LucidaSansUnicode00 f
(standby) 5010 3845 w
11 /LucidaSansUnicode20 f
(\035) 5431 3845 w
11 /LucidaSansUnicode00 f
(mode) 720 3975 w
(is) 1077 3975 w
(available) 1222 3975 w
(in) 1746 3975 w
(case) 1903 3975 w
(the) 2195 3975 w
(main) 2423 3975 w
(Fileserver) 2743 3975 w
(should) 3312 3975 w
(fail.) 3729 3975 w
(The) 4021 3975 w
(AoE) 4276 3975 w
(targets) 4534 3975 w
(are) 4964 3975 w
(stock) 5188 3975 w
11 /LucidaSans-Italic f
(SR1521) 720 4105 w
11 /LucidaSansUnicode00 f
(machines) 1171 4105 w
(with) 1721 4105 w
(added) 1992 4105 w
(10Gbps) 2367 4105 w
(Ethernet) 2824 4105 w
(cards.) 3316 4105 w
(This) 3719 4105 w
(configuration) 3990 4105 w
(is) 4750 4105 w
(pictured) 4884 4105 w
(in) 5372 4105 w
(Figure 1.) 720 4235 w
1043 4629 1043 4449 Dl
1043 4449 2411 4449 Dl
2411 4449 2411 4629 Dl
2411 4629 1043 4629 Dl
(Fileserver) 1471 4561 w
1043 5529 1043 4989 Dl
1043 4989 2411 4989 Dl
2411 4989 2411 5529 Dl
2411 5529 1043 5529 Dl
11 /LucidaSans-Italic f
(SR1521) 1524 5281 w
971 5277 1043 5259 Dl
971 5241 1043 5259 Dl
1043 5259 1043 5259 908 5259 Ds
1043 5259 908 5259 908 4539 Ds
908 5259 908 4539 998 4539 Ds
908 4539 998 4539 1042 4539 Ds
998 4539 1042 4539 1042 4539 Ds
971 4557 1043 4539 Dl
971 4521 1043 4539 Dl
11 /LucidaSansUnicode00 f
(10Gbe) 887 4921 w
3779 4629 3779 4449 Dl
3779 4449 5147 4449 Dl
5147 4449 5147 4629 Dl
5147 4629 3779 4629 Dl
(backup Fileserver) 3996 4561 w
3779 5529 3779 4989 Dl
3779 4989 5147 4989 Dl
5147 4989 5147 5529 Dl
5147 5529 3779 5529 Dl
11 /LucidaSans-Italic f
(SR1521) 4260 5281 w
2483 4521 2411 4539 Dl
2483 4557 2411 4539 Dl
2411 4539 2411 4539 3095 4539 Ds
2411 4539 3095 4539 3779 5259 Ds
3095 4539 3779 5259 3779 5259 Ds
3717 5219 3779 5258 Dl
3743 5194 3779 5258 Dl
11 /LucidaSansUnicode00 f
(Wireless) 2875 4921 w
5219 5241 5147 5259 Dl
5219 5277 5147 5259 Dl
5147 5259 5147 5259 5282 5259 Ds
5147 5259 5282 5259 5282 4539 Ds
5282 5259 5282 4539 5192 4539 Ds
5282 4539 5192 4539 5148 4539 Ds
5192 4539 5148 4539 5148 4539 Ds
5219 4521 5147 4539 Dl
5219 4557 5147 4539 Dl
(10Gbe) 4956 4921 w
10 /LucidaSans-Demi f
(Figure 1) 2853 5793 w
11 /LucidaSansUnicode00 f
(The) 720 6023 w
(configuration string[2] for this Fileserver is) 954 6023 w
9 /LucidaTypewriter f
(filsys) 1008 6193 w
(main) 1463 6193 w
(ce565.0{e565.1e545.1}.) 1788 6193 w
11 /LucidaSansUnicode00 f
(The) 720 6383 w
(configuration string for the) 954 6383 w
(backup Fileserver is) 2442 6383 w
9 /LucidaTypewriter f
(filsys) 1008 6553 w
(main) 1463 6553 w
(ce545.0e545.1.) 1788 6553 w
11 /LucidaSansUnicode00 f
(The) 720 6743 w
(targets) 962 6743 w
11 /LucidaTypewriter f
(e565.) 1379 6743 w
11 /LucidaSans-Italic f
(x) 1774 6743 w
11 /LucidaSansUnicode00 f
(are) 1876 6743 w
(connected) 2087 6743 w
(to) 2679 6743 w
(the) 2830 6743 w
(Fileserver) 3044 6743 w
(by) 3599 6743 w
(a) 3768 6743 w
(point-to-point) 3872 6743 w
(10Gbps) 4706 6743 w
(Ether\255) 5161 6743 w
(net) 720 6873 w
(link.) 938 6873 w
(Except) 1251 6873 w
(during) 1652 6873 w
(a) 2049 6873 w
(dump) 2157 6873 w
(or) 2512 6873 w
(in) 2671 6873 w
(the) 2818 6873 w
(event) 3036 6873 w
(of) 3373 6873 w
(a) 3528 6873 w
(failure) 3636 6873 w
(of) 4024 6873 w
11 /LucidaTypewriter f
(e565.1) 4178 6873 w
11 /LucidaSansUnicode00 f
(,) 4652 6873 w
(all) 4733 6873 w
(I/O) 4904 6873 w
(is) 5126 6873 w
(per\255) 5260 6873 w
(formed) 720 7003 w
(over) 1142 7003 w
(this) 1409 7003 w
(link.) 1642 7003 w
(The) 1944 7003 w
(target) 2179 7003 w
11 /LucidaTypewriter f
(e545.0) 2533 7003 w
11 /LucidaSansUnicode00 f
(is) 3043 7003 w
(in) 3168 7003 w
(another) 3305 7003 w
(building,) 3754 7003 w
(connected) 4264 7003 w
(by) 4850 7003 w
(a) 5013 7003 w
(shared) 5111 7003 w
(54Mbps wireless link.) 720 7133 w
(The) 720 7303 w
(AoE) 975 7303 w
(targets) 1233 7303 w
(are) 1663 7303 w
(managed) 1887 7303 w
(independently) 2434 7303 w
(from) 3249 7303 w
(the) 3561 7303 w
(Fileserver.) 3789 7303 w
(Maintenance) 4428 7303 w
(tasks,) 5159 7303 w
cleartomark
showpage
saveobj restore
%%EndPage: 1 1
%%Page: 2 2
/saveobj save def
mark
2 pagesetup
11 /LucidaSansUnicode00 f
(like) 720 850 w
(replacing) 957 850 w
(failed) 1497 850 w
(drives,) 1841 850 w
(reconfiguring) 2244 850 w
(or) 3010 850 w
(adding) 3168 850 w
(storage,) 3581 850 w
(do) 4062 850 w
(not) 4244 850 w
(require) 4466 850 w
(knowledge) 4895 850 w
(of) 720 980 w
(the) 887 980 w
(Fileserver) 1117 980 w
(and) 1688 980 w
(may) 1946 980 w
(be) 2226 980 w
(performed) 2417 980 w
(without) 3039 980 w
(shutting) 3501 980 w
(down) 4003 980 w
(the) 4352 980 w
(Fileserver.) 4583 980 w
(Con\255) 5225 980 w
(versely,) 720 1110 w
(the) 1176 1110 w
(Fileserver) 1397 1110 w
(does) 1958 1110 w
(not) 2261 1110 w
(require) 2486 1110 w
(knowledge) 2918 1110 w
(of) 3544 1110 w
(how) 3701 1110 w
(to) 3970 1110 w
(perform) 4127 1110 w
(maintenance) 4607 1110 w
(on) 5337 1110 w
(the) 720 1240 w
(AoE targets.) 926 1240 w
11 /LucidaSans-Demi f
(2.) 720 1500 w
(Fileserver) 888 1500 w
(Basics) 1481 1500 w
11 /LucidaSansUnicode00 f
(The) 720 1670 w
(Fileserver) 959 1670 w
(serves) 1511 1670 w
(files) 1889 1670 w
(via) 2152 1670 w
(the) 2342 1670 w
(Plan) 2553 1670 w
(9) 2815 1670 w
(file) 2924 1670 w
(protocol,) 3131 1670 w
(9P2000.) 3650 1670 w
(Requests) 4166 1670 w
(that) 4689 1670 w
(cannot) 4940 1670 w
(be) 5341 1670 w
(directly) 720 1800 w
(satisfied) 1174 1800 w
(by) 1684 1800 w
(the) 1870 1800 w
(in-memory) 2101 1800 w
(Block) 2760 1800 w
(Cache) 3103 1800 w
(are) 3486 1800 w
(resolved) 3714 1800 w
(by) 4223 1800 w
(devices.) 4408 1800 w
(The) 4931 1800 w
(Block) 5189 1800 w
(Cache) 720 1930 w
(is) 1078 1930 w
(indexed) 1202 1930 w
(by) 1667 1930 w
(device) 1829 1930 w
(and) 2203 1930 w
(device) 2437 1930 w
(address.) 2811 1930 w
(The) 3335 1930 w
11 /LucidaTypewriter f
(cw) 3570 1930 w
11 /LucidaSansUnicode00 f
(device) 3764 1930 w
(serves) 4138 1930 w
(the) 4512 1930 w
(WORM) 4719 1930 w
(filesys\255) 5100 1930 w
(tem.) 720 2060 w
(It) 1055 2060 w
(is) 1188 2060 w
(comprised) 1335 2060 w
(of) 1952 2060 w
(three) 2119 2060 w
(on-disk) 2456 2060 w
(devices:) 2935 2060 w
(cache,) 3423 2060 w
(read-only) 3820 2060 w
(and) 4404 2060 w
(cached) 4661 2060 w
(WORM.) 5092 2060 w
(These) 720 2190 w
(devices) 1080 2190 w
(are) 1517 2190 w
(known) 1728 2190 w
(as) 2123 2190 w
11 /LucidaTypewriter f
(c) 2283 2190 w
11 /LucidaSansUnicode00 f
(,) 2362 2190 w
11 /LucidaTypewriter f
(w) 2440 2190 w
11 /LucidaSansUnicode00 f
(,) 2519 2190 w
(and) 2597 2190 w
11 /LucidaTypewriter f
(cw) 2838 2190 w
11 /LucidaSansUnicode00 f
(.) 2996 2190 w
(All) 3109 2190 w
(Blocks) 3292 2190 w
(have) 3674 2190 w
(a) 3965 2190 w
11 /LucidaTypewriter f
(w-address) 4069 2190 w
11 /LucidaSansUnicode00 f
(and) 4823 2190 w
(a) 5064 2190 w
(cache) 5169 2190 w
(state.) 720 2320 w
(Blocks) 1092 2320 w
(not) 1471 2320 w
(in) 1687 2320 w
(the) 1827 2320 w
(cache) 2038 2320 w
(are) 2381 2320 w
(state) 2589 2320 w
11 /LucidaTypewriter f
(none) 2890 2320 w
11 /LucidaSansUnicode00 f
(.) 3206 2320 w
(Freshly) 3316 2320 w
(written) 3735 2320 w
(blocks) 4149 2320 w
(are) 4533 2320 w
(state) 4741 2320 w
11 /LucidaTypewriter f
(write) 5042 2320 w
11 /LucidaSansUnicode00 f
(.) 5437 2320 w
(Blocks) 720 2450 w
(on) 1115 2450 w
(the) 1306 2450 w
11 /LucidaTypewriter f
(w) 1534 2450 w
11 /LucidaSansUnicode00 f
(device) 1670 2450 w
(that) 2065 2450 w
(are) 2333 2450 w
(rewritten) 2558 2450 w
(are) 3096 2450 w
(state) 3321 2450 w
11 /LucidaTypewriter f
(dirty) 3639 2450 w
11 /LucidaSansUnicode00 f
(.) 4034 2450 w
(A) 4161 2450 w
11 /LucidaSansUnicode20 f
(\034) 4294 2450 w
11 /LucidaSansUnicode00 f
(dump,) 4335 2450 w
11 /LucidaSansUnicode20 f
(\035) 4678 2450 w
11 /LucidaSansUnicode00 f
(a) 4776 2450 w
(permanent) 4894 2450 w
(snapshot) 720 2580 w
(of) 1248 2580 w
(the) 1398 2580 w
(filesystem,) 1611 2580 w
(is) 2229 2580 w
(taken) 2359 2580 w
(by) 2697 2580 w
(converting) 2864 2580 w
(modified) 3469 2580 w
(blocks) 3984 2580 w
(to) 4369 2580 w
(state) 4518 2580 w
11 /LucidaTypewriter f
(dump) 4820 2580 w
11 /LucidaSansUnicode00 f
(.) 5136 2580 w
(This) 5247 2580 w
(process) 720 2710 w
(takes) 1178 2710 w
(just) 1509 2710 w
(a) 1754 2710 w
(few) 1862 2710 w
(seconds.) 2097 2710 w
(Other) 2649 2710 w
(activity) 2999 2710 w
(on) 3424 2710 w
(the) 3607 2710 w
(Fileserver) 3826 2710 w
(is) 4386 2710 w
(halted) 4522 2710 w
(during) 4903 2710 w
(the) 5301 2710 w
(dump.) 720 2840 w
(Copying) 1139 2840 w
(takes) 1616 2840 w
(place) 1940 2840 w
(in) 2260 2840 w
(the) 2400 2840 w
(background) 2611 2840 w
(and) 3286 2840 w
(does) 3524 2840 w
(not) 3818 2840 w
(impact) 4034 2840 w
(the) 4435 2840 w
(performance) 4646 2840 w
(of) 5364 2840 w
(the) 720 2970 w
(Fileserver.) 932 2970 w
(Once) 1555 2970 w
(state) 1868 2970 w
11 /LucidaTypewriter f
(dump) 2170 2970 w
11 /LucidaSansUnicode00 f
(blocks) 2527 2970 w
(are) 2912 2970 w
(copied) 3121 2970 w
(to) 3517 2970 w
(the) 3666 2970 w
(WORM,) 3878 2970 w
(their) 4299 2970 w
(state) 4588 2970 w
(is) 4890 2970 w
(changed) 5020 2970 w
(to) 720 3100 w
11 /LucidaTypewriter f
(read) 866 3100 w
11 /LucidaSansUnicode00 f
(or) 1220 3100 w
11 /LucidaTypewriter f
(none) 1370 3100 w
11 /LucidaSansUnicode00 f
(,) 1686 3100 w
(if) 1759 3100 w
(it) 1870 3100 w
(is) 1980 3100 w
(dropped) 2105 3100 w
(from) 2592 3100 w
(the) 2884 3100 w
(cache.) 3092 3100 w
(The) 3502 3100 w
(copying) 3738 3100 w
(phase) 4192 3100 w
(of) 4545 3100 w
(any) 4690 3100 w
(number) 4913 3100 w
(of) 5364 3100 w
(dumps may overlap.) 720 3230 w
(The) 720 3400 w
(implemented) 962 3400 w
(Fileserver) 1706 3400 w
(has) 2261 3400 w
(a) 2489 3400 w
(Block) 2593 3400 w
(Cache) 2919 3400 w
(of) 3285 3400 w
(402,197) 3436 3400 w
(8192-byte) 3929 3400 w
(blocks) 4542 3400 w
(\(3137MB\),) 4930 3400 w
(a) 720 3530 w
(cache) 888 3530 w
(device,) 1298 3530 w
11 /LucidaTypewriter f
(e565.0) 1778 3530 w
11 /LucidaSansUnicode00 f
(,) 2252 3530 w
(of) 2394 3530 w
(3,276,800) 2609 3530 w
(blocks) 3268 3530 w
(\(25GB\)) 3718 3530 w
(and) 4177 3530 w
(a) 4481 3530 w
(WORM) 4648 3530 w
(device,) 5099 3530 w
11 /LucidaTypewriter f
({e565.1e545.1}) 720 3660 w
11 /LucidaSansUnicode00 f
(,) 1826 3660 w
(of) 1917 3660 w
(1.5TB.) 2081 3660 w
(The) 2514 3660 w
(WORM) 2770 3660 w
(device) 3172 3660 w
(is) 3567 3660 w
(the) 3712 3660 w
(loose) 3940 3660 w
(mirror) 4281 3660 w
(of) 4674 3660 w
(AoE) 4839 3660 w
(targets) 5098 3660 w
11 /LucidaTypewriter f
(e565.1) 720 3790 w
11 /LucidaSansUnicode00 f
(and) 1239 3790 w
11 /LucidaTypewriter f
(e545.1) 1482 3790 w
11 /LucidaSansUnicode00 f
(.) 1956 3790 w
(Writes) 2071 3790 w
(are) 2447 3790 w
(preformed) 2660 3790 w
(on) 3267 3790 w
(the) 3446 3790 w
(mirrored) 3661 3790 w
(devices) 4172 3790 w
(sequentially) 4610 3790 w
(but) 5294 3790 w
(data) 720 3920 w
(is) 988 3920 w
(read) 1112 3920 w
(from) 1385 3920 w
(the) 1676 3920 w
(first) 1883 3920 w
(device) 2134 3920 w
(only.) 2508 3920 w
(Thus) 2838 3920 w
(the) 3135 3920 w
(wireless) 3342 3920 w
(connection) 3808 3920 w
(which) 4430 3920 w
(limits) 4776 3920 w
(dumps) 5108 3920 w
(to ~1MB/s is not) 720 4050 w
(part) 1643 4050 w
(of) 1894 4050 w
(the) 2037 4050 w
(client) 2243 4050 w
11 /LucidaSansUnicode20 f
(\031) 2534 4050 w
11 /LucidaSansUnicode00 f
(s I/O) 2569 4050 w
(path.) 2871 4050 w
(The) 720 4220 w
(WORM) 954 4220 w
(filesystem is fully described in [1], [2] and [3].) 1334 4220 w
11 /LucidaSans-Demi f
(3.) 720 4480 w
11 /LucidaSansUnicode20 f
(\034) 888 4480 w
11 /LucidaSans-Demi f
(Standby) 929 4480 w
11 /LucidaSansUnicode20 f
(\035) 1385 4480 w
11 /LucidaSans-Demi f
(Mode) 1461 4480 w
11 /LucidaSansUnicode00 f
(It) 720 4650 w
(is) 861 4650 w
(not) 1017 4650 w
(possible) 1261 4650 w
(use) 1772 4650 w
(both) 2026 4650 w
(Fileservers) 2339 4650 w
(at) 2975 4650 w
(the) 3146 4650 w
(same) 3386 4650 w
(time.) 3736 4650 w
(Both) 4112 4650 w
(will) 4421 4650 w
(try) 4671 4650 w
(to) 4883 4650 w
(allocate) 5060 4650 w
11 /LucidaTypewriter f
(w-addresses) 720 4780 w
11 /LucidaSansUnicode00 f
(without) 1647 4780 w
(respect) 2107 4780 w
(to) 2556 4780 w
(the) 2721 4780 w
(other.) 2949 4780 w
(To) 3359 4780 w
(solve) 3552 4780 w
(this) 3883 4780 w
(problem) 4137 4780 w
(a) 4640 4780 w
(configuration) 4758 4780 w
(item) 720 4910 w
(and) 999 4910 w
(command,) 1239 4910 w
(both) 1841 4910 w
(named) 2129 4910 w
11 /LucidaTypewriter f
(dumpctl) 2534 4910 w
11 /LucidaSansUnicode00 f
(were) 3130 4910 w
(added.) 3427 4910 w
(The) 3870 4910 w
(main) 4112 4910 w
(Fileserver) 4418 4910 w
(is) 4973 4910 w
(config\255) 5104 4910 w
(ured) 720 5040 w
(with) 1006 5040 w
11 /LucidaTypewriter f
(dumpctl) 1274 5040 w
(yes) 1913 5040 w
11 /LucidaSansUnicode00 f
(and) 2192 5040 w
(the) 2432 5040 w
(backup) 2645 5040 w
(Fileserver) 3074 5040 w
(is) 3628 5040 w
(configured) 3757 5040 w
(with) 4374 5040 w
11 /LucidaTypewriter f
(dumpctl) 4641 5040 w
(no) 5279 5040 w
11 /LucidaSansUnicode00 f
(.) 5437 5040 w
(To) 720 5170 w
(prevent) 894 5170 w
(writes,) 1336 5170 w
(attaches) 1730 5170 w
(may) 2214 5170 w
(be) 2472 5170 w
(disallowed.) 2642 5170 w
(In) 3316 5170 w
(the) 3455 5170 w
(event) 3665 5170 w
(that) 3994 5170 w
(the) 4244 5170 w
(Fileserver) 4454 5170 w
(fails,) 5005 5170 w
(the) 5301 5170 w
(command) 720 5300 w
11 /LucidaTypewriter f
(dumpctl) 1293 5300 w
(yes) 1937 5300 w
11 /LucidaSansUnicode00 f
(is) 2221 5300 w
(executed) 2356 5300 w
(on) 2890 5300 w
(the) 3072 5300 w
(backup) 3290 5300 w
(Fileserver) 3724 5300 w
11 /LucidaSansUnicode20 f
(\031) 4236 5300 w
11 /LucidaSansUnicode00 f
(s) 4271 5300 w
(console.) 4374 5300 w
(And) 4899 5300 w
(if) 5159 5300 w
(dis\255) 5279 5300 w
(abled, attaches are) 720 5430 w
(allowed.) 1767 5430 w
(While) 720 5600 w
(the) 1049 5600 w
(backup) 1260 5600 w
(Fileserver) 1687 5600 w
(is) 2239 5600 w
(running,) 2367 5600 w
(it) 2859 5600 w
(will) 2972 5600 w
(not) 3193 5600 w
(see) 3409 5600 w
(the) 3629 5600 w
(new) 3841 5600 w
(data) 4097 5600 w
(written) 4370 5600 w
(by) 4785 5600 w
(the) 4952 5600 w
(dump) 5164 5600 w
(process) 720 5730 w
(on) 1168 5730 w
(the) 1340 5730 w
(main) 1547 5730 w
(Fileserver.) 1846 5730 w
(The) 2464 5730 w
(backup) 2699 5730 w
(Fileserver) 3122 5730 w
(must) 3670 5730 w
(be) 3973 5730 w
(halted) 4140 5730 w
(each) 4509 5730 w
(day) 4792 5730 w
(after) 5015 5730 w
(the) 5301 5730 w
(dump) 720 5860 w
(on) 1093 5860 w
(the) 1293 5860 w
(Fileserver) 1529 5860 w
(and) 2106 5860 w
(the) 2369 5860 w
(command) 2605 5860 w
11 /LucidaTypewriter f
(recover) 3195 5860 w
(main) 3857 5860 w
11 /LucidaSansUnicode00 f
(must) 4239 5860 w
(be) 4572 5860 w
(typed) 4769 5860 w
(at) 5133 5860 w
(the) 5301 5860 w
11 /LucidaTypewriter f
(config) 720 5990 w
11 /LucidaSansUnicode00 f
(prompt.) 1240 5990 w
(This) 1749 5990 w
(will) 2020 5990 w
(cause) 2247 5990 w
(the) 2596 5990 w
(cache) 2812 5990 w
(to) 3160 5990 w
(be) 3313 5990 w
(flushed) 3489 5990 w
(and) 3930 5990 w
(the) 4173 5990 w
(filesystem) 4389 5990 w
(to) 4975 5990 w
(be) 5128 5990 w
(ini\255) 5304 5990 w
(tialized from the) 720 6120 w
(new) 1643 6120 w
(dump.) 1893 6120 w
11 /LucidaSans-Demi f
(4.) 720 6380 w
(Changed) 888 6380 w
(Assumptions) 1423 6380 w
11 /LucidaSansUnicode00 f
(In) 720 6550 w
(the) 873 6550 w
(fifteen) 1097 6550 w
(odd) 1497 6550 w
(years) 1755 6550 w
(since) 2089 6550 w
(the) 2416 6550 w
(Fileserver) 2640 6550 w
(was) 3205 6550 w
(developed,) 3460 6550 w
(a) 4097 6550 w
(few) 4211 6550 w
(of) 4452 6550 w
(its) 4613 6550 w
(assumptions) 4796 6550 w
(have) 720 6680 w
(ceased) 1004 6680 w
(to) 1406 6680 w
(hold.) 1550 6680 w
(The) 1892 6680 w
(most) 2127 6680 w
(obvious) 2429 6680 w
(is) 2881 6680 w
(the) 3005 6680 w
11 /LucidaTypewriter f
(worm) 3212 6680 w
11 /LucidaSansUnicode00 f
(device) 3564 6680 w
(is no longer a) 3937 6680 w
(WORM. Even if) 4703 6680 w
(we) 720 6810 w
(were) 903 6810 w
(to) 1193 6810 w
(use) 1337 6810 w
(WORM) 1560 6810 w
(storage,) 1942 6810 w
(disk) 2414 6810 w
(space) 2672 6810 w
(is) 3013 6810 w
(inexpensive) 3138 6810 w
(enough) 3810 6810 w
(that) 4248 6810 w
(it) 4496 6810 w
(would) 4606 6810 w
(be) 4964 6810 w
(practi\255) 5132 6810 w
(cal) 720 6940 w
(to) 914 6940 w
(keep) 1067 6940 w
(an) 1369 6940 w
(entire) 1543 6940 w
(copy) 1897 6940 w
(of) 2190 6940 w
(the) 2342 6940 w
(WORM) 2557 6940 w
(on) 2946 6940 w
(magnetic) 3125 6940 w
(storage) 3659 6940 w
(for) 4103 6940 w
(performance) 4300 6940 w
(reasons.) 5022 6940 w
(This) 720 7070 w
(means) 990 7070 w
(that) 1384 7070 w
(the) 1640 7070 w
(cache) 1857 7070 w
(and) 2206 7070 w
(the) 2450 7070 w
(WORM) 2667 7070 w
(devices) 3058 7070 w
(have) 3498 7070 w
(the) 3792 7070 w
(same) 4009 7070 w
(performance.) 4336 7070 w
(There\255) 5130 7070 w
(fore) 720 7200 w
(it) 997 7200 w
(no) 1132 7200 w
(longer) 1329 7200 w
(makes) 1733 7200 w
(sense) 2140 7200 w
(to) 2506 7200 w
(copy) 2676 7200 w
(blocks) 2987 7200 w
(in) 3393 7200 w
(state) 3555 7200 w
11 /LucidaTypewriter f
(Cread) 3878 7200 w
11 /LucidaSansUnicode00 f
(to) 4334 7200 w
(the) 4503 7200 w
(cache) 4735 7200 w
(device.) 5099 7200 w
cleartomark
showpage
saveobj restore
%%EndPage: 2 2
%%Page: 3 3
/saveobj save def
mark
3 pagesetup
11 /LucidaSansUnicode00 f
(Blocks) 720 850 w
(in) 1110 850 w
(state) 1261 850 w
11 /LucidaTypewriter f
(Cread) 1573 850 w
11 /LucidaSansUnicode00 f
(have) 2019 850 w
(been) 2318 850 w
(read) 2630 850 w
(from) 2918 850 w
(the) 3224 850 w
11 /LucidaTypewriter f
(worm) 3446 850 w
11 /LucidaSansUnicode00 f
(device) 3813 850 w
(but) 4202 850 w
(not) 4431 850 w
(modified[3].) 4659 850 w
(A) 5396 850 w
(new) 720 980 w
(option,) 970 980 w
11 /LucidaTypewriter f
(conf.fastworm) 1384 980 w
11 /LucidaSansUnicode00 f
(, inhibits copying these) 2411 980 w
(blocks to the) 3690 980 w
(disk) 4418 980 w
(cache.) 4674 980 w
(A) 720 1150 w
(less) 832 1150 w
(obvious) 1074 1150 w
(difference) 1526 1150 w
(is) 2100 1150 w
(in) 2224 1150 w
(the) 2360 1150 w
(structure) 2567 1150 w
(of) 3085 1150 w
(the) 3229 1150 w
(cache.) 3436 1150 w
(The) 3845 1150 w
(cache) 4081 1150 w
(device) 4421 1150 w
(is) 4796 1150 w
(structured) 4921 1150 w
(as) 720 1280 w
(a) 880 1280 w
(hash) 984 1280 w
(table.) 1280 1280 w
(The) 1658 1280 w
(hash) 1900 1280 w
(function) 2196 1280 w
(is) 2680 1280 w
(simply) 2811 1280 w
(modulo) 3202 1280 w
(the) 3650 1280 w
(number) 3864 1280 w
(of) 4321 1280 w
(hash) 4472 1280 w
(lines) 4768 1280 w
(and) 5061 1280 w
(the) 5301 1280 w
(lines) 720 1410 w
(are) 1019 1410 w
(written) 1236 1410 w
(sequentially) 1659 1410 w
(to) 2348 1410 w
(disk.) 2505 1410 w
(If) 2845 1410 w
(we) 2967 1410 w
(let) 3163 1410 w
11 /LucidaSans-Italic f
(n) 3347 1410 w
11 /LucidaSansUnicode00 f
(be) 3464 1410 w
(the) 3644 1410 w
(number) 3865 1410 w
(of) 4329 1410 w
(rows) 4487 1410 w
(and) 4790 1410 w
11 /LucidaSans-Italic f
(l) 5038 1410 w
11 /LucidaSansUnicode00 f
(be) 5120 1410 w
(the) 5301 1410 w
(number of) 720 1540 w
(columns in our hash, he) 1312 1540 w
(function is) 2634 1540 w
9 /LucidaTypewriter f
(row) 1268 1710 w
(=) 1528 1710 w
(w) 1658 1710 w
(%) 1788 1710 w
(rows) 1918 1710 w
(c) 1268 1820 w
(=) 1398 1820 w
(column) 1528 1820 w
(+) 1983 1820 w
(row*n,) 2113 1820 w
11 /LucidaSansUnicode00 f
(the) 720 2010 w
(blocks will) 926 2010 w
(be) 1521 2010 w
(linearized onto the) 1687 2010 w
(disk) 2732 2010 w
(in the) 2988 2010 w
(following order) 3329 2010 w
9 /LucidaSansUnicode00 f
(0) 1268 2180 w
(,) 1332 2180 w
9 /LucidaSans-Italic f
(n) 1368 2180 w
9 /LucidaSansUnicode00 f
(,) 1431 2180 w
(2) 1467 2180 w
9 /LucidaSans-Italic f
(n) 1531 2180 w
9 /LucidaSansUnicode00 f
(,) 1594 2180 w
9 /LucidaSans-Italic f
(.) 1630 2180 w
9 /LucidaSansUnicode00 f
(..) 1659 2180 w
(,) 1724 2180 w
(\() 1760 2180 w
9 /LucidaSans-Italic f
(l) 1797 2180 w
9 /S f
(-) 1845 2180 w
9 /LucidaSansUnicode00 f
(1) 1910 2180 w
(\)) 1974 2180 w
9 /LucidaSans-Italic f
(n) 2019 2180 w
9 /LucidaSansUnicode00 f
(,) 2082 2180 w
(1) 2118 2180 w
(,) 2182 2180 w
(1) 2218 2180 w
9 /S f
(+) 2290 2180 w
9 /LucidaSans-Italic f
(n) 2355 2180 w
9 /LucidaSansUnicode00 f
(,) 2418 2180 w
(1) 2454 2180 w
9 /S f
(+) 2526 2180 w
9 /LucidaSansUnicode00 f
(2) 2591 2180 w
9 /LucidaSans-Italic f
(n) 2655 2180 w
9 /LucidaSansUnicode00 f
(,) 2718 2180 w
9 /LucidaTypewriter f
(.) 2819 2158 w
(.) 2949 2158 w
(.) 3079 2158 w
11 /LucidaSansUnicode00 f
(Suppose) 720 2370 w
(that) 1213 2370 w
(two) 1467 2370 w
(blocks) 1703 2370 w
11 /LucidaSans-Italic f
(w) 2090 2370 w
11 /LucidaSansUnicode00 f
(and) 2219 2370 w
11 /LucidaSans-Italic f
(w) 2460 2370 w
11 /S f
(+) 2573 2370 w
11 /LucidaSansUnicode00 f
(1) 2652 2370 w
(are) 2764 2370 w
(written) 2975 2370 w
(to) 3393 2370 w
(the) 3545 2370 w
(Fileserver) 3760 2370 w
(with) 4316 2370 w
(an) 4586 2370 w
(empty) 4759 2370 w
(cache.) 5134 2370 w
(Suppose) 720 2500 w
(further) 1215 2500 w
(that) 1630 2500 w
11 /LucidaSans-Italic f
(w) 1886 2500 w
11 /S f
(+) 1999 2500 w
11 /LucidaSansUnicode00 f
(1) 2078 2500 w
(%) 2200 2500 w
11 /LucidaSans-Italic f
(l) 2327 2500 w
11 /LucidaSansUnicode00 f
11 /S f
(\271) 2412 2500 w
11 /LucidaSansUnicode00 f
(0.) 2526 2500 w
(Then) 2710 2500 w
(blocks) 3022 2500 w
11 /LucidaSans-Italic f
(w) 3411 2500 w
11 /LucidaSansUnicode00 f
(and) 3542 2500 w
11 /LucidaSans-Italic f
(w) 3785 2500 w
11 /S f
(+) 3898 2500 w
11 /LucidaSansUnicode00 f
(1) 3977 2500 w
(map) 4091 2500 w
(to) 4368 2500 w
(disk) 4521 2500 w
(blocks) 4787 2500 w
11 /LucidaSans-Italic f
(c) 5175 2500 w
11 /LucidaSansUnicode00 f
(and) 5274 2500 w
11 /LucidaSans-Italic f
(c) 720 2630 w
11 /S f
(+) 802 2630 w
11 /LucidaSans-Italic f
(CEPERBK) 881 2630 w
11 /LucidaSansUnicode00 f
(.) 1346 2630 w
(With) 1470 2630 w
(a) 1760 2630 w
(block) 1875 2630 w
(size) 2217 2630 w
(of) 2484 2630 w
(8192) 2646 2630 w
(bytes,) 2976 2630 w
(current) 3350 2630 w
(Fileserver) 3789 2630 w
(parameters) 4355 2630 w
(and) 5013 2630 w
(512) 5265 2630 w
(byte) 720 2760 w
(disk) 984 2760 w
(sectors, this works out) 1240 2760 w
(to 1072 sectors between ) 2488 2760 w
11 /LucidaSansUnicode20 f
(\034) 3844 2760 w
11 /LucidaSansUnicode00 f
(sequential) 3885 2760 w
11 /LucidaSansUnicode20 f
(\035) 4436 2760 w
11 /LucidaSansUnicode00 f
(blocks.) 4512 2760 w
(With) 720 2930 w
(disk) 999 2930 w
(drives) 1263 2930 w
(of) 1627 2930 w
(the) 1778 2930 w
(same) 1992 2930 w
(era) 2316 2930 w
(as) 2527 2930 w
(the) 2687 2930 w
(original) 2901 2930 w
(Fileserver,) 3349 2930 w
(disk) 3939 2930 w
(transfer) 4203 2930 w
(rates) 4665 2930 w
(were) 4973 2930 w
(lim\255) 5270 2930 w
(ited) 720 3060 w
(by) 972 3060 w
(hardware) 1146 3060 w
(buffer) 1690 3060 w
(sizes) 2064 3060 w
(and) 2381 3060 w
(interface) 2626 3060 w
(bandwidth[5].) 3141 3060 w
(Assuming) 3961 3060 w
(a) 4534 3060 w
(transfer) 4642 3060 w
(rate) 5108 3060 w
(of) 5364 3060 w
(1MB/s) 720 3190 w
(and) 1100 3190 w
(a) 1336 3190 w
(seek) 1435 3190 w
(time) 1717 3190 w
(of) 1992 3190 w
(15ms,) 2138 3190 w
(it) 2507 3190 w
(would) 2618 3190 w
(take) 2977 3190 w
(8ms) 3243 3190 w
(to) 3508 3190 w
(transfer) 3654 3190 w
(8192) 4111 3190 w
(bytes) 4425 3190 w
(from) 4748 3190 w
(the) 5041 3190 w
(disk) 5251 3190 w
(and) 720 3320 w
(less) 954 3320 w
(than 15ms to seek) 1196 3320 w
(to another track) 2222 3320 w
(or about) 3114 3320 w
(347KB/s.) 3602 3320 w
(On modern SATA) 4164 3320 w
(drives,) 5116 3320 w
(it) 720 3450 w
(would) 842 3450 w
(take) 1212 3450 w
(26\265s) 1489 3450 w
(to) 1801 3450 w
(transfer) 1958 3450 w
(8192) 2426 3450 w
(bytes) 2751 3450 w
(from) 3086 3450 w
(the) 3391 3450 w
(disk) 3612 3450 w
(and) 3883 3450 w
(up) 4131 3450 w
(to) 4318 3450 w
(9ms) 4476 3450 w
(to) 4753 3450 w
(seek.) 4911 3450 w
(this) 5275 3450 w
(would) 720 3580 w
(only) 1079 3580 w
(yield) 1341 3580 w
(890KB/s.) 1631 3580 w
(During) 2196 3580 w
(testing) 2598 3580 w
(about) 3004 3580 w
(2MB/s) 3348 3580 w
(was) 3728 3580 w
(observed.) 3968 3580 w
(If) 4563 3580 w
(this) 4674 3580 w
(same) 4908 3580 w
(ratio) 5226 3580 w
(of) 720 3710 w
(calculated) 886 3710 w
(versus) 1482 3710 w
(actual) 1884 3710 w
(seek) 2261 3710 w
(time) 2563 3710 w
(were) 2858 3710 w
(to) 3170 3710 w
(hold) 3336 3710 w
(for) 3630 3710 w
(older) 3841 3710 w
(drives,) 4174 3710 w
(the) 4588 3710 w
(older) 4817 3710 w
(drives) 5151 3710 w
(would operate) 720 3840 w
(at) 1518 3840 w
(near rated bandwidth.) 1655 3840 w
(When the) 720 4010 w
(formula) 1254 4010 w
(was changed to) 1705 4010 w
9 /LucidaTypewriter f
(n) 1268 4180 w
(=) 1398 4180 w
(w) 1528 4180 w
(%) 1658 4180 w
(rows) 1788 4180 w
(c) 1268 4290 w
(=) 1398 4290 w
(column*CEPERBK) 1528 4290 w
(+) 2503 4290 w
(n,) 2633 4290 w
11 /LucidaSansUnicode00 f
(the) 720 4480 w
(blocks are) 926 4480 w
(linearized onto disk) 1508 4480 w
(in the) 2603 4480 w
(following order) 2944 4480 w
9 /LucidaSansUnicode00 f
(0) 1268 4650 w
(,) 1332 4650 w
(1) 1368 4650 w
(,) 1432 4650 w
9 /LucidaSans-Italic f
(.) 1468 4650 w
9 /LucidaSansUnicode00 f
(..) 1497 4650 w
(,) 1562 4650 w
9 /LucidaSans-Italic f
(l) 1598 4650 w
9 /S f
(-) 1646 4650 w
9 /LucidaSansUnicode00 f
(1) 1711 4650 w
(,) 1775 4650 w
9 /LucidaSans-Italic f
(l) 1811 4650 w
9 /LucidaSansUnicode00 f
(,) 1844 4650 w
9 /LucidaSans-Italic f
(l) 1880 4650 w
9 /S f
(+) 1928 4650 w
9 /LucidaSansUnicode00 f
(1) 1993 4650 w
(,) 2057 4650 w
9 /LucidaTypewriter f
(.) 2158 4628 w
(.) 2288 4628 w
(.) 2418 4628 w
(,) 2548 4650 w
11 /LucidaSansUnicode00 f
(changing) 720 4840 w
(from) 1272 4840 w
(row-) 1590 4840 w
(to) 1914 4840 w
(column-major) 2085 4840 w
(ordering,) 2913 4840 w
(performance) 3468 4840 w
(increased) 4210 4840 w
(to) 4785 4840 w
(~25MB/s.) 4957 4840 w
(Note) 720 4970 w
(that) 1025 4970 w
(not) 1290 4970 w
(caching) 1520 4970 w
(blocks) 1983 4970 w
(in) 2381 4970 w
(state) 2535 4970 w
11 /LucidaTypewriter f
(Cread) 2850 4970 w
11 /LucidaSansUnicode00 f
(insures) 3299 4970 w
(that) 3740 4970 w
11 /LucidaSans-Italic f
(w) 4005 4970 w
11 /LucidaSansUnicode00 f
(and) 4145 4970 w
11 /LucidaSans-Italic f
(w) 4397 4970 w
11 /S f
(+) 4510 4970 w
11 /LucidaSansUnicode00 f
(1) 4589 4970 w
(will) 4712 4970 w
(be) 4947 4970 w
(stored) 5132 4970 w
(sequentially) 720 5100 w
(on) 1462 5100 w
(disk,) 1699 5100 w
(as) 2057 5100 w
11 /LucidaTypewriter f
(column) 2276 5100 w
11 /LucidaSansUnicode00 f
(will) 2852 5100 w
(be) 3135 5100 w
(the) 3368 5100 w
(same) 3641 5100 w
(for) 4024 5100 w
11 /LucidaSans-Italic f
(w) 4279 5100 w
11 /LucidaSansUnicode00 f
(and) 4467 5100 w
11 /LucidaSans-Italic f
(w) 4767 5100 w
11 /S f
(+) 4880 5100 w
11 /LucidaSansUnicode00 f
(1) 4959 5100 w
(unless) 5130 5100 w
11 /LucidaSans-Italic f
(w) 720 5230 w
11 /S f
(+) 833 5230 w
11 /LucidaSansUnicode00 f
(1) 912 5230 w
(%) 1034 5230 w
11 /LucidaSans-Italic f
(rows) 1161 5230 w
11 /LucidaSansUnicode00 f
11 /S f
(=) 1479 5230 w
11 /LucidaSansUnicode00 f
(0.) 1602 5230 w
(However,) 1803 5230 w
(in) 2359 5230 w
(this) 2521 5230 w
(case) 2780 5230 w
(the) 3077 5230 w
(blocks) 3310 5230 w
(will) 3716 5230 w
(also) 3959 5230 w
(be) 4237 5230 w
(stored) 4430 5230 w
(sequentially) 4832 5230 w
(because) 720 5360 w
(row) 1189 5360 w
11 /LucidaSans-Italic f
(r) 1421 5360 w
11 /LucidaSansUnicode00 f
(and row) 1509 5360 w
11 /LucidaSans-Italic f
(r) 1974 5360 w
11 /S f
(+) 2054 5360 w
11 /LucidaSansUnicode00 f
(1 are) 2133 5360 w
(also sequential.) 2440 5360 w
11 /LucidaSans-Demi f
(5.) 720 5620 w
(Assumptions) 888 5620 w
(Redux) 1670 5620 w
11 /LucidaSansUnicode00 f
(If) 1080 5850 w
(a) 1188 5850 w
(cat) 1284 5850 w
(can kill) 1477 5850 w
(a) 1892 5850 w
(rat) 1988 5850 w
(in a) 2170 5850 w
(minute, how) 2401 5850 w
(long would it) 3099 5850 w
(be) 3833 5850 w
(killing 60,000 rats?) 3999 5850 w
(Ah, how) 1080 5980 w
(long, indeed!) 1549 5980 w
(My private) 2321 5980 w
(opinion is that) 2910 5980 w
(the) 3717 5980 w
(rats would kill) 3923 5980 w
(the) 4712 5980 w
(cat.) 4918 5980 w
11 /LucidaSansUnicode20 f
(\023) 1355 6110 w
11 /LucidaSansUnicode00 f
(Lewis Carroll) 1445 6110 w
(The) 720 6300 w
(Fileserver) 954 6300 w
11 /LucidaSansUnicode20 f
(\031) 1466 6300 w
11 /LucidaSansUnicode00 f
(s read-ahead system consists of) 1501 6300 w
(a) 3268 6300 w
(queue) 3365 6300 w
(of) 3730 6300 w
(blocks) 3874 6300 w
(to) 4254 6300 w
(be) 4398 6300 w
(read) 4565 6300 w
(and) 4838 6300 w
(a) 5072 6300 w
(set) 5169 6300 w
(of) 5364 6300 w
(processes) 720 6430 w
(which) 1285 6430 w
(read) 1630 6430 w
(them) 1903 6430 w
(into) 2212 6430 w
(the) 2456 6430 w
(cache.) 2663 6430 w
(Although) 3072 6430 w
(the) 3596 6430 w
(original) 3803 6430 w
(paper on the) 4243 6430 w
(Fileserver) 4960 6430 w
(only) 720 6560 w
(lists) 986 6560 w
(one) 1245 6560 w
11 /LucidaTypewriter f
(rah) 1484 6560 w
11 /LucidaSansUnicode00 f
(process,) 1763 6560 w
(the) 2251 6560 w
(earliest) 2464 6560 w
(Fileserver) 2897 6560 w
(at) 3452 6560 w
(the) 3597 6560 w
(Labs) 3811 6560 w
11 /LucidaSansUnicode20 f
(\031) 4055 6560 w
11 /LucidaSansUnicode00 f
(WORM) 4133 6560 w
(started) 4521 6560 w
(four.) 4939 6560 w
(The) 5273 6560 w
(Fourth) 720 6690 w
(Edition Fileserver again started one) 1104 6690 w
11 /LucidaTypewriter f
(rah) 3021 6690 w
11 /LucidaSansUnicode00 f
(process but) 3293 6690 w
(attempted to sort) 3952 6690 w
(the) 4922 6690 w
(blocks) 5128 6690 w
(by) 720 6820 w
11 /LucidaTypewriter f
(w-) 893 6820 w
11 /LucidaSansUnicode00 f
(address) 1051 6820 w
(before) 1516 6820 w
(processing.) 1909 6820 w
(This) 2605 6820 w
(approach) 2877 6820 w
(probably) 3420 6820 w
(makes) 3937 6820 w
(sense) 4330 6820 w
(on) 4682 6820 w
(slow,) 4865 6820 w
(parti\255) 5188 6820 w
(tioned) 720 6950 w
(disks.) 1100 6950 w
(However,) 1488 6950 w
(it) 2023 6950 w
(has) 2137 6950 w
(the) 2363 6950 w
(disadvantage) 2574 6950 w
(of) 3319 6950 w
(processing) 3467 6950 w
(blocks) 4086 6950 w
(serially.) 4470 6950 w
(The) 4957 6950 w
(more) 5196 6950 w
(parallelism) 720 7080 w
(one) 1358 7080 w
(can) 1609 7080 w
(achieve) 1848 7080 w
(among) 2300 7080 w
(or) 2720 7080 w
(within) 2887 7080 w
(the) 3268 7080 w
(Fileserver) 3494 7080 w
11 /LucidaSansUnicode20 f
(\031) 4006 7080 w
11 /LucidaSansUnicode00 f
(s) 4041 7080 w
(devices,) 4152 7080 w
(the) 4636 7080 w
(greater) 4862 7080 w
(the) 5301 7080 w
(performance) 720 7210 w
(penalty of) 1433 7210 w
(the) 2001 7210 w
(sequential) 2207 7210 w
(approach.) 2793 7210 w
cleartomark
showpage
saveobj restore
%%EndPage: 3 3
%%Page: 4 4
/saveobj save def
mark
4 pagesetup
11 /LucidaSansUnicode00 f
(To) 720 850 w
(test) 912 850 w
(this) 1168 850 w
(idea,) 1421 850 w
(a) 1736 850 w
(1GB) 1853 850 w
(file) 2121 850 w
(was) 2344 850 w
(created) 2602 850 w
(on) 3054 850 w
(the) 3245 850 w
(Fileserver) 3472 850 w
(on) 4040 850 w
(AoE) 4231 850 w
(storage.) 4489 850 w
(The) 5015 850 w
(AoE) 5270 850 w
(driver) 720 980 w
(has) 1082 980 w
(a) 1319 980 w
(maximum) 1432 980 w
(of) 2018 980 w
(24) 2178 980 w
(outstanding) 2368 980 w
(frames) 3059 980 w
(per) 3477 980 w
(target.) 3704 980 w
(After) 4143 980 w
(rebooting) 4459 980 w
(the) 5029 980 w
(File\255) 5251 980 w
(server) 720 1110 w
(to) 1095 1110 w
(flush) 1251 1110 w
(the) 1564 1110 w
(Block) 1783 1110 w
(Cache,) 2114 1110 w
(it) 2520 1110 w
(took) 2641 1110 w
(25.5s) 2928 1110 w
(to) 3274 1110 w
(read) 3430 1110 w
(the) 3715 1110 w
(file.) 3934 1110 w
(Subsequent) 4220 1110 w
(reads) 4891 1110 w
(took) 5233 1110 w
(and) 720 1240 w
(average) 954 1240 w
(of) 1406 1240 w
(13.72s.) 1550 1240 w
(After) 2023 1240 w
(changing) 2324 1240 w
(the) 2849 1240 w
(read-ahead) 3056 1240 w
(algorithm to use) 3714 1240 w
(10 independent) 4629 1240 w
11 /LucidaTypewriter f
(rah) 720 1370 w
11 /LucidaSansUnicode00 f
(processes,) 996 1370 w
(the) 1599 1370 w
(test) 1809 1370 w
(was) 2048 1370 w
(rerun.) 2289 1370 w
(It) 2687 1370 w
(took) 2800 1370 w
(15.74s) 3079 1370 w
(to) 3486 1370 w
(read) 3634 1370 w
(the) 3911 1370 w
(file.) 4122 1370 w
(Increasing) 4399 1370 w
(the) 4987 1370 w
(num\255) 5198 1370 w
(ber) 720 1500 w
(of) 935 1500 w
11 /LucidaTypewriter f
(rah) 1082 1500 w
11 /LucidaSansUnicode00 f
(processes) 1358 1500 w
(to) 1926 1500 w
(20) 2073 1500 w
(reduced) 2250 1500 w
(the) 2720 1500 w
(uncached) 2930 1500 w
(read) 3477 1500 w
(time) 3753 1500 w
(to) 4029 1500 w
(13.75s,) 4176 1500 w
(the) 4617 1500 w
(same) 4827 1500 w
(as) 5146 1500 w
(the) 5301 1500 w
(cached read time.) 720 1630 w
(Two concurrent) 1741 1630 w
(readers can each read the) 2608 1630 w
(entire) 4023 1630 w
(file) 4368 1630 w
(in 15.17s, so) 4570 1630 w
(the) 5301 1630 w
(throughput) 720 1760 w
(appears to be) 1358 1760 w
(limited by) 2125 1760 w
11 /LucidaTypewriter f
(9P/IL) 2691 1760 w
11 /LucidaSansUnicode00 f
(latency.) 3121 1760 w
11 /LucidaSans-Demi f
(6.) 720 2020 w
(Core) 888 2020 w
(Improvements) 1186 2020 w
11 /LucidaSansUnicode00 f
(The) 720 2190 w
11 /LucidaTypewriter f
(port) 967 2190 w
11 /LucidaSansUnicode00 f
(directory) 1332 2190 w
(underwent) 1855 2190 w
(some) 2472 2190 w
(housecleaning.) 2808 2190 w
(The) 3695 2190 w
11 /LucidaTypewriter f
(9p1) 3943 2190 w
11 /LucidaSansUnicode00 f
(protocol) 4229 2190 w
(was) 4722 2190 w
(removed.) 4973 2190 w
(The) 720 2320 w
(console) 958 2320 w
(code) 1405 2320 w
(was) 1698 2320 w
(rewritten) 1939 2320 w
(to) 2458 2320 w
(use) 2604 2320 w
(the) 2828 2320 w
11 /LucidaTypewriter f
(9p2) 3037 2320 w
11 /LucidaSansUnicode00 f
(code.) 3312 2320 w
(The) 3674 2320 w
(time) 3911 2320 w
(zone) 4186 2320 w
(code) 4484 2320 w
(was) 4776 2320 w
(replaced) 5016 2320 w
(with) 720 2450 w
(the) 988 2450 w
(offset) 1201 2450 w
(pairs) 1551 2450 w
(from) 1856 2450 w
(the) 2153 2450 w
(CPU) 2366 2450 w
(kernel) 2621 2450 w
(to) 2997 2450 w
(allow) 3148 2450 w
(for) 3468 2450 w
(arbitrary) 3664 2450 w
(time) 4163 2450 w
(zones.) 4443 2450 w
(A) 4872 2450 w
(CEC) 4991 2450 w
(con\255) 5245 2450 w
(sole) 720 2580 w
(was added to allow) 972 2580 w
(access without) 2029 2580 w
(a) 2848 2580 w
(serial) 2944 2580 w
(console.) 3267 2580 w
(More) 720 2750 w
(significantly,) 1026 2750 w
11 /LucidaTypewriter f
(Lock) 1742 2750 w
11 /LucidaSansUnicode00 f
(s) 2058 2750 w
(were) 2151 2750 w
(changed) 2443 2750 w
(from) 2933 2750 w
(queueing) 3226 2750 w
(locks) 3761 2750 w
(to) 4074 2750 w
(spin) 4220 2750 w
(locks.) 4483 2750 w
(Since) 4866 2750 w
(a) 5181 2750 w
(sig\255) 5280 2750 w
(nificant) 720 2880 w
(use) 1162 2880 w
(of) 1391 2880 w
(spin) 1541 2880 w
(locks) 1808 2880 w
(is) 2125 2880 w
(to) 2255 2880 w
(lock) 2405 2880 w
(queues) 2666 2880 w
(to) 3093 2880 w
(add) 3243 2880 w
(work) 3484 2880 w
(and) 3787 2880 w
(wake) 4027 2880 w
(consumers,) 4341 2880 w
11 /LucidaTypewriter f
(unlock) 4998 2880 w
11 /LucidaSansUnicode00 f
(reschedules) 720 3010 w
(if) 1401 3010 w
(the) 1519 3010 w
(current) 1735 3010 w
(process) 2165 3010 w
(no) 2621 3010 w
(longer) 2801 3010 w
(holds) 3188 3010 w
(any) 3525 3010 w
(locks) 3756 3010 w
(and) 4076 3010 w
(has) 4320 3010 w
(woken) 4551 3010 w
(processes) 4943 3010 w
(while) 720 3140 w
(it) 1043 3140 w
(held) 1160 3140 w
(locks.) 1435 3140 w
(Also,) 1824 3140 w
(the) 2134 3140 w
(scheduler) 2349 3140 w
(takes) 2911 3140 w
(care) 3239 3140 w
(not) 3507 3140 w
(to) 3726 3140 w
(preempt) 3877 3140 w
(a) 4370 3140 w
(process) 4474 3140 w
(with) 4928 3140 w
(locks) 5197 3140 w
(held.) 720 3270 w
(This improved) 1056 3270 w
(the) 1855 3270 w
(throughput) 2062 3270 w
(of) 2701 3270 w
(single-threaded) 2845 3270 w
(reads) 3740 3270 w
(by) 4069 3270 w
(25%.) 4231 3270 w
(These) 4549 3270 w
(ideas) 4902 3270 w
(were) 5218 3270 w
(taken from the) 720 3400 w
(CPU) 1547 3400 w
(kernel.) 1795 3400 w
(Networking) 720 3570 w
(was) 1389 3570 w
(changed) 1647 3570 w
(to) 2156 3570 w
(allow) 2321 3570 w
(interfaces) 2655 3570 w
(with) 3236 3570 w
(jumbo) 3519 3570 w
(MTUs.) 3915 3570 w
(This) 4338 3570 w
(is) 4620 3570 w
(not) 4765 3570 w
(currently) 4998 3570 w
(used by the) 720 3700 w
(IL code) 1377 3700 w
(as it) 1791 3700 w
(has no MTU) 2051 3700 w
(discovery mechanism.) 2716 3700 w
11 /LucidaSans-Demi f
(7.) 720 3960 w
(PC Architecture) 888 3960 w
(Improvements) 1802 3960 w
11 /LucidaSansUnicode00 f
(By) 720 4130 w
(far) 885 4130 w
(the) 1077 4130 w
(largest) 1293 4130 w
(change) 1703 4130 w
(in) 2131 4130 w
(the) 2276 4130 w
(PC) 2492 4130 w
(architecture) 2674 4130 w
(was) 3356 4130 w
(to) 3603 4130 w
(memory) 3756 4130 w
(handling.) 4236 4130 w
(The) 4817 4130 w
(primary) 5061 4130 w
(goal) 720 4260 w
(was) 992 4260 w
(to) 1238 4260 w
(be) 1389 4260 w
(able) 1563 4260 w
(to) 1830 4260 w
(handle) 1981 4260 w
(most) 2384 4260 w
(of) 2693 4260 w
(the) 2844 4260 w
(bottom) 3058 4260 w
(4GB) 3488 4260 w
(of) 3743 4260 w
(memory.) 3894 4260 w
(Thus) 4442 4260 w
(the) 4746 4260 w
(definition) 4960 4260 w
(of) 720 4390 w
11 /LucidaTypewriter f
(KZERO) 881 4390 w
11 /LucidaSansUnicode00 f
(needed) 1329 4390 w
(to) 1774 4390 w
(be) 1935 4390 w
(changed.) 2119 4390 w
(The) 2694 4390 w
(PC) 2946 4390 w
(port) 3136 4390 w
(inherited) 3411 4390 w
(its) 3943 4390 w
(memory) 4125 4390 w
(layout) 4613 4390 w
(from) 4992 4390 w
(the) 5301 4390 w
(MIPS) 720 4520 w
(port.) 1011 4520 w
(On) 1347 4520 w
(the) 1545 4520 w
(MIPS) 1760 4520 w
(processor,) 2051 4520 w
(the) 2653 4520 w
(high) 2868 4520 w
(bit) 3148 4520 w
(indicated) 3334 4520 w
(kernel) 3867 4520 w
(mode.) 4243 4520 w
(Thus) 4656 4520 w
(Fileserver) 4960 4520 w
(memory) 720 4650 w
(was) 1194 4650 w
(mapped) 1435 4650 w
(from) 1906 4650 w
11 /LucidaTypewriter f
(0x80000000) 2200 4650 w
11 /LucidaSansUnicode00 f
(to) 3029 4650 w
(the) 3177 4650 w
(top) 3388 4650 w
(of) 3605 4650 w
(memory.) 3753 4650 w
(Converting) 4298 4650 w
(between) 4922 4650 w
(a) 5411 4650 w
(physical) 720 4780 w
(and) 1214 4780 w
(virtual) 1475 4780 w
(address) 1874 4780 w
(was) 2354 4780 w
(done) 2618 4780 w
(by) 2946 4780 w
(inverting) 3134 4780 w
(the) 3669 4780 w
(high) 3902 4780 w
(bit.) 4200 4780 w
(While) 4474 4780 w
(simple,) 4825 4780 w
(this) 5275 4780 w
(scheme) 720 4910 w
(allows) 1185 4910 w
(for) 1577 4910 w
(a) 1789 4910 w
(maximum) 1909 4910 w
(of) 2502 4910 w
(only) 2669 4910 w
(2GB.) 2952 4910 w
(Lowering) 3258 4910 w
11 /LucidaTypewriter f
(KZERO) 3802 4910 w
11 /LucidaSansUnicode00 f
(to) 4256 4910 w
11 /LucidaTypewriter f
(0x30000000) 4424 4910 w
11 /LucidaSansUnicode00 f
(and) 5274 4910 w
(mapping PCI) 720 5040 w
(space) 1428 5040 w
(to) 1767 5040 w
11 /LucidaTypewriter f
(0x20000000) 1910 5040 w
11 /LucidaSansUnicode00 f
(allows for) 2735 5040 w
11 /LucidaTypewriter f
(3328MB) 3291 5040 w
11 /LucidaSansUnicode00 f
(memory.) 3800 5040 w
(Unfortunately,) 720 5210 w
(being) 1527 5210 w
(able) 1871 5210 w
(to) 2140 5210 w
(recognize) 2293 5210 w
(more) 2861 5210 w
(memory) 3182 5210 w
(puts) 3662 5210 w
(us) 3941 5210 w
(in) 4110 5210 w
(greater) 4255 5210 w
(danger) 4684 5210 w
(of) 5102 5210 w
(run\255) 5255 5210 w
(ning) 720 5340 w
(into) 1030 5340 w
(PCI) 1312 5340 w
(space) 1555 5340 w
(while) 1933 5340 w
(sizing) 2286 5340 w
(memory,) 2679 5340 w
(so) 3223 5340 w
(another) 3419 5340 w
(method) 3904 5340 w
(is) 4386 5340 w
(needed.) 4547 5340 w
(A) 5082 5340 w
(BIOS) 5231 5340 w
11 /LucidaTypewriter f
(0xe820) 720 5470 w
11 /LucidaSansUnicode00 f
(scan) 1239 5470 w
(was) 1525 5470 w
(chosen.) 1772 5470 w
(Unfortunately,) 2264 5470 w
(the) 3071 5470 w
(processor) 3287 5470 w
(must) 3855 5470 w
(be) 4167 5470 w
(in) 4344 5470 w
(Real) 4490 5470 w
(mode) 4760 5470 w
(to) 5106 5470 w
(per\255) 5260 5470 w
(form) 720 5600 w
(the) 1012 5600 w
(scan) 1220 5600 w
(and) 1498 5600 w
(the) 1733 5600 w
(processor) 1941 5600 w
(is) 2501 5600 w
(already) 2626 5600 w
(in) 3050 5600 w
(Protected) 3187 5600 w
(mode) 3728 5600 w
(when) 4065 5600 w
(the) 4384 5600 w
(Fileserver) 4591 5600 w
(kernel) 5139 5600 w
(is) 720 5730 w
(started.) 847 5730 w
(So,) 1331 5730 w
(Instead) 1531 5730 w
(of) 1959 5730 w
(switching) 2106 5730 w
(back) 2651 5730 w
(to) 2940 5730 w
(real) 3087 5730 w
(mode,) 3327 5730 w
11 /LucidaTypewriter f
(9load) 3702 5730 w
11 /LucidaSansUnicode00 f
(was) 4137 5730 w
(modified) 4379 5730 w
(to) 4893 5730 w
(perform) 5041 5730 w
(the) 720 5860 w
(scan before) 926 5860 w
(turning on paging[8].) 1583 5860 w
(Surprisingly,) 720 6030 w
(the) 1423 6030 w
(preceding) 1631 6030 w
(changes) 2199 6030 w
(were) 2675 6030 w
(not) 2966 6030 w
(enough) 3180 6030 w
(to) 3619 6030 w
(enable) 3765 6030 w
(more) 4157 6030 w
(memory.) 4471 6030 w
(The) 5014 6030 w
(File\255) 5251 6030 w
(server) 720 6160 w
(faulted) 1089 6160 w
(when) 1505 6160 w
(building) 1830 6160 w
(page) 2310 6160 w
(tables.) 2612 6160 w
(It) 3045 6160 w
(turned) 3160 6160 w
(out) 3555 6160 w
(this) 3772 6160 w
(is) 4010 6160 w
(because) 4139 6160 w
(the) 4614 6160 w
(4MB) 4826 6160 w
(tempo\255) 5095 6160 w
(rary) 720 6290 w
(pagetables) 965 6290 w
(built) 1583 6290 w
(by) 1862 6290 w
11 /LucidaTypewriter f
(9load) 2025 6290 w
11 /LucidaSansUnicode00 f
(were) 2457 6290 w
(not) 2748 6290 w
(enough.) 2961 6290 w
(The) 3469 6290 w
(BIOS) 3705 6290 w
(scan) 3983 6290 w
(of) 4262 6290 w
(the) 4408 6290 w
(testing) 4617 6290 w
(machine) 5023 6290 w
(yielded) 720 6420 w
(3326MB) 1169 6420 w
(of) 1670 6420 w
(accessible) 1844 6420 w
(memory.) 2452 6420 w
(This) 3023 6420 w
(would) 3314 6420 w
(require) 3701 6420 w
(3.25MB) 4150 6420 w
(of) 4617 6420 w
(page) 4791 6420 w
(tables.) 5116 6420 w
(Since) 720 6550 w
(the) 1037 6550 w
(bottom) 1248 6550 w
(megabyte) 1675 6550 w
(of) 2237 6550 w
(memory) 2385 6550 w
(is) 2860 6550 w
(unusable,) 2988 6550 w
(we) 3547 6550 w
(don) 3734 6550 w
11 /LucidaSansUnicode20 f
(\031) 3938 6550 w
11 /LucidaSansUnicode00 f
(t) 3973 6550 w
(have) 4054 6550 w
(any) 4342 6550 w
(room) 4568 6550 w
(left) 4890 6550 w
(for) 5107 6550 w
(the) 5301 6550 w
(kernel.) 720 6680 w
(The) 1169 6680 w
(solution) 1414 6680 w
(was) 1891 6680 w
(to) 2139 6680 w
(use) 2293 6680 w
(4MB) 2524 6680 w
(pages.) 2797 6680 w
(This) 3228 6680 w
(eliminates) 3498 6680 w
(the) 4091 6680 w
(need) 4307 6680 w
(for) 4613 6680 w
(page) 4811 6680 w
(tables,) 5116 6680 w
(as the) 720 6810 w
(1024-entry page) 1078 6810 w
(directory has enough space) 2021 6810 w
(to map 4GB) 3525 6810 w
(of) 4182 6810 w
(memory.) 4325 6810 w
(On) 720 6980 w
(64-bit) 911 6980 w
(processors,) 1292 6980 w
(it) 1943 6980 w
(would) 2053 6980 w
(be) 2411 6980 w
(relatively) 2579 6980 w
(easy) 3097 6980 w
(to) 3370 6980 w
(fill) 3515 6980 w
(in) 3689 6980 w
(more) 3826 6980 w
(memory) 4140 6980 w
(from) 4613 6980 w
(above) 4906 6980 w
(4GB) 5260 6980 w
(by using the) 720 7110 w
(40-bit) 1414 7110 w
(extensions to 4MB) 1793 7110 w
(pages.) 2813 7110 w
cleartomark
showpage
saveobj restore
%%EndPage: 4 4
%%Page: 5 5
/saveobj save def
mark
5 pagesetup
11 /LucidaSans-Demi f
(8.) 720 850 w
(The) 888 850 w
(AoE Driver) 1137 850 w
11 /LucidaSansUnicode00 f
(If) 1080 1040 w
(you were) 1188 1040 w
(plowing a) 1704 1040 w
(field what) 2256 1040 w
(would you rather use, 2 strong oxen or) 2817 1040 w
(1024 chickens?) 1080 1170 w
11 /LucidaSansUnicode20 f
(\023) 1355 1300 w
11 /LucidaSansUnicode00 f
(Seymour Cray) 1445 1300 w
(This) 720 1530 w
(is) 986 1530 w
(the) 1115 1530 w
(Fileserver) 1327 1530 w
11 /LucidaSansUnicode20 f
(\031) 1839 1530 w
11 /LucidaSansUnicode00 f
(s) 1874 1530 w
(raison) 1971 1530 w
(d) 2341 1530 w
11 /LucidaSansUnicode20 f
(\031) 2410 1530 w
11 /LucidaSansUnicode00 f
(\352tre.) 2445 1530 w
(The) 2766 1530 w
(AoE) 3006 1530 w
(driver) 3249 1530 w
(is) 3600 1530 w
(based) 3729 1530 w
(on) 4087 1530 w
(the) 4263 1530 w
(Plan) 4475 1530 w
(9) 4738 1530 w
(driver.) 4848 1530 w
(It) 5269 1530 w
(is) 5384 1530 w
(capable) 720 1660 w
(of) 1194 1660 w
(sending) 1366 1660 w
(jumbo) 1853 1660 w
(or) 2256 1660 w
(standard) 2431 1660 w
(AoE) 2964 1660 w
(frames.) 3229 1660 w
(It) 3729 1660 w
(allows) 3865 1660 w
(up) 4261 1660 w
(to) 4461 1660 w
(24) 4632 1660 w
(outstanding) 4833 1660 w
(frames) 720 1790 w
(per) 1129 1790 w
(target.) 1348 1790 w
(It) 1779 1790 w
(also) 1895 1790 w
(allows) 2154 1790 w
(a) 2530 1790 w
(many-to-many) 2634 1790 w
(relationship) 3489 1790 w
(between) 4165 1790 w
(local) 4657 1790 w
(interfaces) 4948 1790 w
(and target) 720 1920 w
(interfaces.) 1306 1920 w
(When) 720 2090 w
(the) 1058 2090 w
(AoE) 1275 2090 w
(driver) 1523 2090 w
(gets) 1879 2090 w
(an) 2152 2090 w
(I/O) 2327 2090 w
(request,) 2549 2090 w
(a) 3033 2090 w
11 /LucidaTypewriter f
(Srb) 3140 2090 w
11 /LucidaSansUnicode00 f
(structure) 3423 2090 w
(is) 3951 2090 w
(allocated) 4085 2090 w
(with) 4612 2090 w
11 /LucidaTypewriter f
(mballoc) 4884 2090 w
11 /LucidaSansUnicode00 f
(.) 5437 2090 w
(Then) 720 2220 w
(the) 1041 2220 w
(request) 1266 2220 w
(is) 1722 2220 w
(chopped) 1863 2220 w
(up) 2376 2220 w
(into) 2566 2220 w
11 /LucidaTypewriter f
(Frame) 2827 2220 w
11 /LucidaSansUnicode00 f
(structures) 3275 2220 w
(as) 3866 2220 w
(available) 4036 2220 w
(Each) 4591 2220 w
(is) 4888 2220 w
(sized) 5029 2220 w
(to) 5364 2220 w
(MTU) 720 2350 w
(of) 1008 2350 w
(the) 1165 2350 w
(chosen) 1385 2350 w
(link.) 1811 2350 w
(A) 2126 2350 w
(link) 2251 2350 w
(is) 2496 2350 w
(chosen) 2633 2350 w
(round-robin) 3059 2350 w
(fashion) 3770 2350 w
(first) 4212 2350 w
(among) 4476 2350 w
(local) 4891 2350 w
(inter\255) 5188 2350 w
(faces) 720 2480 w
(which) 1037 2480 w
(can) 1386 2480 w
(see) 1611 2480 w
(the) 1831 2480 w
(target) 2042 2480 w
(and) 2400 2480 w
(then) 2638 2480 w
(among) 2917 2480 w
(the) 3323 2480 w
(target) 3534 2480 w
11 /LucidaSansUnicode20 f
(\031) 3852 2480 w
11 /LucidaSansUnicode00 f
(s) 3887 2480 w
(MAC) 3983 2480 w
(addresses.) 4270 2480 w
(MTUs) 4916 2480 w
(may) 5252 2480 w
(be) 720 2610 w
(freely) 895 2610 w
(mixed.) 1238 2610 w
(The) 1684 2610 w
(frames) 1928 2610 w
(are) 2340 2610 w
(sent) 2553 2610 w
(and) 2825 2610 w
(the) 3068 2610 w
(number) 3284 2610 w
(of) 3743 2610 w
(outstanding) 3896 2610 w
(frames) 4580 2610 w
(is) 4992 2610 w
(appro\255) 5125 2610 w
(priately) 720 2740 w
(incremented.) 1159 2740 w
(The) 1936 2740 w
(driver) 2175 2740 w
(then) 2525 2740 w
(sleeps) 2804 2740 w
(on) 3181 2740 w
(the) 3355 2740 w
11 /LucidaTypewriter f
(Srb) 3565 2740 w
11 /LucidaSansUnicode00 f
(.) 3802 2740 w
(When) 3911 2740 w
(awoken,) 4243 2740 w
(the) 4724 2740 w
(process) 4934 2740 w
(is) 5384 2740 w
(repeated until) 720 2870 w
(all) 1502 2870 w
(the) 1662 2870 w
(bytes in the) 1868 2870 w
(request) 2529 2870 w
(have) 2967 2870 w
(been received.) 3250 2870 w
(When) 720 3040 w
(an) 1065 3040 w
(AoE) 1246 3040 w
(frame) 1500 3040 w
(is) 1863 3040 w
(received) 2003 3040 w
(that) 2501 3040 w
(corresponds) 2765 3040 w
(to) 3478 3040 w
(I/O,) 3639 3040 w
(the) 3903 3040 w
(frame) 4127 3040 w
(is) 4491 3040 w
(copied) 4632 3040 w
(into) 5040 3040 w
(the) 5301 3040 w
(buffer) 720 3170 w
(of) 1092 3170 w
(the) 1246 3170 w
11 /LucidaTypewriter f
(Srb) 1463 3170 w
11 /LucidaSansUnicode00 f
(and) 1746 3170 w
(the) 1990 3170 w
(number) 2207 3170 w
(of) 2667 3170 w
(outstanding) 2821 3170 w
(frames) 3505 3170 w
(is) 3917 3170 w
(decremented.) 4050 3170 w
(If) 4863 3170 w
(there) 4981 3170 w
(are) 5304 3170 w
(no outstanding frame) 720 3300 w
(remaining, the) 1910 3300 w
11 /LucidaTypewriter f
(Srb) 2724 3300 w
11 /LucidaSansUnicode00 f
(is woken.) 2996 3300 w
(Since) 720 3470 w
(the) 1041 3470 w
(Myricom) 1256 3470 w
(10Gbe) 1754 3470 w
(cards) 2146 3470 w
(have) 2477 3470 w
(an) 2769 3470 w
(MTU) 2942 3470 w
(of) 3226 3470 w
(9000) 3378 3470 w
(bytes,) 3698 3470 w
(an) 4062 3470 w
(entire) 4235 3470 w
(8192) 4589 3470 w
(byte) 4910 3470 w
(block) 5184 3470 w
(and) 720 3600 w
(the) 961 3600 w
(AoE) 1175 3600 w
(header) 1420 3600 w
(fit) 1830 3600 w
(into) 1986 3600 w
(a) 2236 3600 w
(single) 2339 3600 w
(frame.) 2699 3600 w
(Thus) 3122 3600 w
(sequential) 3425 3600 w
(read) 4018 3600 w
(performance) 4297 3600 w
(depends) 5017 3600 w
(on frame) 720 3730 w
(latency.) 1236 3730 w
(Performance) 1718 3730 w
(was measured with a) 2423 3730 w
(process running the) 3577 3730 w
(following code) 4681 3730 w
9 /LucidaTypewriter f
(static) 1008 3900 w
(void) 1463 3900 w
(devcopy\(Dcopy) 1008 4010 w
(*d\)) 1918 4010 w
({) 1008 4120 w
(Iobuf) 1268 4230 w
(*b;) 1658 4230 w
(for\(d->p) 1268 4450 w
(=) 1853 4450 w
(d->start;) 1983 4450 w
(d->p) 2633 4450 w
(<) 2958 4450 w
(d->lim;) 3088 4450 w
(d->p++\){) 3608 4450 w
(b) 1528 4560 w
(=) 1658 4560 w
(getbuf\(d->from,) 1788 4560 w
(d->p,) 2828 4560 w
(Bread\);) 3218 4560 w
(if\(b) 1528 4670 w
(==) 1853 4670 w
(0\)) 2048 4670 w
(continue;) 1788 4780 w
(putbuf\(b\);) 1528 4890 w
(}) 1268 5000 w
(}) 1008 5110 w
11 /LucidaSansUnicode00 f
(The) 720 5300 w
(latency) 970 5300 w
(for) 1398 5300 w
(an) 1602 5300 w
(frame) 1782 5300 w
(with) 2144 5300 w
(8192) 2421 5300 w
(data) 2749 5300 w
(bytes) 3033 5300 w
(is) 3370 5300 w
(79\265s) 3510 5300 w
(giving) 3825 5300 w
(12,500pps) 4202 5300 w
(or) 4828 5300 w
(103MB/s) 4992 5300 w
(while) 720 5430 w
(two) 1053 5430 w
(concurrent) 1300 5430 w
(reads) 1930 5430 w
(yield) 2277 5430 w
(201MB/s.) 2583 5430 w
(Testing) 3187 5430 w
(beyond) 3637 5430 w
(this) 4083 5430 w
(level) 4334 5430 w
(of) 4633 5430 w
(performance) 4794 5430 w
(has not) 720 5560 w
(been performed.) 1151 5560 w
11 /LucidaSans-Demi f
(9.) 720 5820 w
(System) 888 5820 w
(Performance) 1330 5820 w
11 /LucidaSansUnicode00 f
(I) 720 5990 w
(measured) 794 5990 w
(both) 1361 5990 w
(latency) 1648 5990 w
(and) 2067 5990 w
(throughput) 2307 5990 w
(of) 2952 5990 w
(reading) 3102 5990 w
(and) 3549 5990 w
(writing) 3789 5990 w
(bytes) 4202 5990 w
(between) 4529 5990 w
(two) 5020 5990 w
(pro\255) 5255 5990 w
(cesses) 720 6120 w
(for) 1136 6120 w
(a) 1357 6120 w
(number) 1486 6120 w
(of) 1968 6120 w
(different) 2144 6120 w
(paths.) 2673 6120 w
(2007) 3106 6120 w
(measurements) 3450 6120 w
(were) 4302 6120 w
(made) 4623 6120 w
(using) 4984 6120 w
(an) 5343 6120 w
11 /LucidaSans-Italic f
(SR1521) 720 6250 w
11 /LucidaSansUnicode00 f
(AoE) 1162 6250 w
(target,) 1400 6250 w
(an) 1789 6250 w
(Intel) 1954 6250 w
(Xeon-5000-based) 2225 6250 w
(cpu) 3248 6250 w
(server) 3477 6250 w
(with) 3840 6250 w
(a) 4102 6250 w
(1.6Ghz) 4199 6250 w
(processor) 4618 6250 w
(and) 5177 6250 w
(a) 5411 6250 w
(Xeon-5000-based) 720 6380 w
(Fileserver) 1764 6380 w
(with) 2333 6380 w
(a) 2615 6380 w
(3.0Ghz) 2732 6380 w
(processor.) 3171 6380 w
(1993) 3820 6380 w
(measurements) 4152 6380 w
(are) 4993 6380 w
(from) 5217 6380 w
([6].) 720 6510 w
(The) 971 6510 w
(latency) 1210 6510 w
(is) 1627 6510 w
(measured) 1755 6510 w
(as) 2320 6510 w
(the) 2477 6510 w
(round) 2688 6510 w
(trip) 3045 6510 w
(time) 3272 6510 w
(for) 3549 6510 w
(a) 3742 6510 w
(byte) 3843 6510 w
(sent) 4112 6510 w
(from) 4379 6510 w
(one) 4674 6510 w
(process) 4912 6510 w
(to) 5364 6510 w
(another) 720 6640 w
(and) 1171 6640 w
(back) 1408 6640 w
(again.) 1697 6640 w
(Throughput) 2096 6640 w
(is) 2766 6640 w
(measured) 2893 6640 w
(using) 3457 6640 w
(16k) 3788 6640 w
(writes) 4028 6640 w
(from) 4387 6640 w
(one) 4680 6640 w
(process) 4915 6640 w
(to) 5364 6640 w
(another.) 720 6770 w
cleartomark
showpage
saveobj restore
%%EndPage: 5 5
%%Page: 6 6
/saveobj save def
mark
6 pagesetup
11 /S f
(_) 985 865 w
(____________________________________________________________________________) 1027 865 w
11 /LucidaSansUnicode00 f
(Table) 2527 995 w
(1 ) 2855 995 w
11 /LucidaSansUnicode20 f
(\023) 2959 995 w
11 /LucidaSansUnicode00 f
(Performance) 3049 995 w
11 /S f
(_) 985 1015 w
(____________________________________________________________________________) 1027 1015 w
11 /LucidaSansUnicode00 f
(test) 1367 1145 w
(93 throughput) 2032 1145 w
(93 latency) 2973 1145 w
(07 throughput) 3688 1145 w
(07 latency) 4629 1145 w
(MB/s) 2283 1275 w
(\265s) 3185 1275 w
(MB/s) 3939 1275 w
(\265s) 4841 1275 w
11 /S f
(_) 985 1295 w
(____________________________________________________________________________) 1027 1295 w
11 /LucidaSansUnicode00 f
(pipes) 1122 1425 w
(8.15) 2299 1425 w
(255) 3179 1425 w
(2500) 3947 1425 w
(19) 4873 1425 w
11 /S f
(_) 985 1445 w
(____________________________________________________________________________) 1027 1445 w
11 /LucidaSansUnicode00 f
(IL/ether) 1122 1575 w
(1.02) 2299 1575 w
(1420) 3110 1575 w
(78) 4085 1575 w
(72) 4873 1575 w
11 /S f
(_) 985 1595 w
(____________________________________________________________________________) 1027 1595 w
11 /LucidaSansUnicode00 f
(URP/Datakit) 1122 1725 w
(0.22) 2299 1725 w
(1750) 3110 1725 w
(N/A) 4008 1725 w
(N/A) 4796 1725 w
11 /S f
(_) 985 1745 w
(____________________________________________________________________________) 1027 1745 w
11 /LucidaSansUnicode00 f
(Cyclone; AoE) 1122 1875 w
(3.2) 2299 1875 w
(375) 3179 1875 w
11 /LucidaSansUnicode22 f
(e) 3928 1875 w
11 /LucidaSansUnicode00 f
(250) 4016 1875 w
(49) 4873 1875 w
11 /S f
(_) 985 1895 w
(____________________________________________________________________________) 1027 1895 w
(\347) 985 1895 w
(\347) 985 1855 w
(\347) 985 1745 w
(\347) 985 1635 w
(\347) 985 1525 w
(\347) 985 1415 w
(\347) 985 1305 w
(\347) 985 1195 w
(\347) 985 1085 w
(\347) 985 975 w
(\347) 1922 1895 w
(\347) 1922 1785 w
(\347) 1922 1675 w
(\347) 1922 1565 w
(\347) 1922 1455 w
(\347) 1922 1345 w
(\347) 1922 1235 w
(\347) 1922 1125 w
(\347) 2863 1895 w
(\347) 2863 1785 w
(\347) 2863 1675 w
(\347) 2863 1565 w
(\347) 2863 1455 w
(\347) 2863 1345 w
(\347) 2863 1235 w
(\347) 2863 1125 w
(\347) 3578 1895 w
(\347) 3578 1785 w
(\347) 3578 1675 w
(\347) 3578 1565 w
(\347) 3578 1455 w
(\347) 3578 1345 w
(\347) 3578 1235 w
(\347) 3578 1125 w
(\347) 4519 1895 w
(\347) 4519 1785 w
(\347) 4519 1675 w
(\347) 4519 1565 w
(\347) 4519 1455 w
(\347) 4519 1345 w
(\347) 4519 1235 w
(\347) 4519 1125 w
(\347) 5207 1895 w
(\347) 5207 1855 w
(\347) 5207 1745 w
(\347) 5207 1635 w
(\347) 5207 1525 w
(\347) 5207 1415 w
(\347) 5207 1305 w
(\347) 5207 1195 w
(\347) 5207 1085 w
(\347) 5207 975 w
11 /LucidaSansUnicode00 f
(Random) 720 2190 w
(I/O) 1195 2190 w
(was) 1410 2190 w
(not) 1651 2190 w
(tested) 1867 2190 w
(for) 2238 2190 w
(two) 2431 2190 w
(reasons.) 2664 2190 w
(First,) 3189 2190 w
(~3GB) 3497 2190 w
(of) 3818 2190 w
(recient) 3966 2190 w
(reads) 4372 2190 w
(and) 4705 2190 w
(writes) 4943 2190 w
(are) 5304 2190 w
(stored) 720 2320 w
(in) 1113 2320 w
(the) 1266 2320 w
(Block) 1490 2320 w
(Cache) 1826 2320 w
(and) 2202 2320 w
(when) 2453 2320 w
(new) 2789 2320 w
(or) 3057 2320 w
(newly) 3221 2320 w
(modified) 3577 2320 w
(files) 4103 2320 w
(are) 4378 2320 w
(reread) 4598 2320 w
(from) 4994 2320 w
(the) 5301 2320 w
(cache,) 720 2450 w
(they) 1097 2450 w
(are) 1364 2450 w
(reread) 1571 2450 w
(sequentially.) 1954 2450 w
(It) 2703 2450 w
(is) 2815 2450 w
(expected) 2943 2450 w
(that) 3471 2450 w
(the) 3722 2450 w
(working) 3933 2450 w
(set) 4402 2450 w
(of) 4601 2450 w
(the) 4749 2450 w
(Fileserver) 4960 2450 w
(fit) 720 2580 w
(in) 880 2580 w
(the) 1025 2580 w
(Block) 1241 2580 w
(Cache.) 1569 2580 w
(Second,) 2007 2580 w
(since) 2468 2580 w
(a) 2787 2580 w
(single) 2893 2580 w
(IL) 3256 2580 w
(connection) 3391 2580 w
(is) 4021 2580 w
(latency) 4154 2580 w
(limited,) 4576 2580 w
(reads) 5026 2580 w
(of) 5364 2580 w
(highly) 720 2710 w
(fragmented) 1101 2710 w
(files) 1776 2710 w
(like) 2055 2710 w
11 /LucidaTypewriter f
(/sys/log/auth) 2301 2710 w
11 /LucidaSansUnicode00 f
(from) 3384 2710 w
(the) 3695 2710 w
(WORM) 3922 2710 w
(are) 4323 2710 w
(not) 4548 2710 w
(meaningfully) 4781 2710 w
(slower \(59MB/s\) than reads from the) 720 2840 w
(cache) 2717 2840 w
(\(62MB/s\).) 3055 2840 w
11 /LucidaSans-Demi f
(10.) 720 3100 w
(Discussion) 958 3100 w
11 /LucidaSansUnicode00 f
(Decoupling) 720 3270 w
(storage) 1379 3270 w
(from) 1834 3270 w
(the) 2144 3270 w
(Fileserver) 2370 3270 w
(with) 2937 3270 w
(AoE) 3218 3270 w
(allows) 3475 3270 w
(for) 3863 3270 w
(automatic) 4071 3270 w
(offsite) 4655 3270 w
(backup,) 5050 3270 w
(affords) 720 3400 w
(good) 1149 3400 w
(availability,) 1469 3400 w
(scalablity) 2120 3400 w
(and) 2666 3400 w
(performance.) 2913 3400 w
(The) 3710 3400 w
(Fileserver) 3958 3400 w
(is) 4519 3400 w
(not) 4656 3400 w
(involved) 4880 3400 w
(in) 5372 3400 w
(storage) 720 3530 w
(management.) 1163 3530 w
(It) 1971 3530 w
(is) 2087 3530 w
(possible) 2219 3530 w
(to) 2706 3530 w
(grow) 2858 3530 w
(the) 3167 3530 w
(existing) 3382 3530 w
(WORM) 3852 3530 w
(to) 4241 3530 w
(9TB) 4393 3530 w
(without) 4639 3530 w
(restart\255) 5085 3530 w
(ing) 720 3660 w
(the) 932 3660 w
(fileserver.) 1146 3660 w
(By) 1753 3660 w
(reconfiguring) 1917 3660 w
(the) 2680 3660 w
(Fileserver,) 2894 3660 w
(essentially) 3484 3660 w
(unlimited) 4086 3660 w
(storage) 4635 3660 w
(may) 5078 3660 w
(be) 5341 3660 w
(added.) 720 3790 w
(The) 720 3960 w
(size) 954 3960 w
(of) 1202 3960 w
(the) 1345 3960 w
(WORM) 1551 3960 w
(and Block) 1931 3960 w
(Cache) 2482 3960 w
(have) 2841 3960 w
(scaled) 3125 3960 w
(by) 3497 3960 w
(a) 3659 3960 w
(factor) 3756 3960 w
(of) 4103 3960 w
(1000) 4247 3960 w
(since) 4559 3960 w
([3]) 4869 3960 w
(and) 5046 3960 w
(sin\255) 5280 3960 w
(gle) 720 4090 w
(IL) 921 4090 w
(connections) 1050 4090 w
(have) 1729 4090 w
(scaled) 2015 4090 w
(by) 2389 4090 w
(a) 2553 4090 w
(factor) 2652 4090 w
(of) 3001 4090 w
(200) 3147 4090 w
(since) 3392 4090 w
([7].) 3704 4090 w
(The) 3953 4090 w
(Block) 4190 4090 w
(Cache) 4511 4090 w
(is) 4872 4090 w
(currently) 4998 4090 w
(at) 720 4220 w
(a) 865 4220 w
(practical) 969 4220 w
(maximum) 1465 4220 w
(for) 2042 4220 w
(a) 2238 4220 w
(kernel) 2342 4220 w
(with) 2718 4220 w
(32-bit) 2987 4220 w
(memory) 3374 4220 w
(addresses.) 3853 4220 w
(A) 4503 4220 w
(kernel) 4623 4220 w
(with) 5000 4220 w
(64-) 5270 4220 w
(bit) 720 4350 w
(memory addresses in the) 897 4350 w
(next) 2279 4350 w
(logical) 2552 4350 w
(step.) 2935 4350 w
(The) 720 4520 w
(disk) 975 4520 w
(cache) 1252 4520 w
(has) 1611 4520 w
(not) 1852 4520 w
(been) 2084 4520 w
(scaled) 2401 4520 w
(to) 2794 4520 w
(the) 2959 4520 w
(same) 3187 4520 w
(extent) 3525 4520 w
(as) 3923 4520 w
(the) 4097 4520 w
(increased) 4325 4520 w
(number) 4893 4520 w
(of) 5364 4520 w
(cache) 720 4650 w
(buckets) 1060 4650 w
(put) 1513 4650 w
(more) 1728 4650 w
(pressure) 2041 4650 w
(on) 2541 4650 w
(the) 2713 4650 w
(Block) 2921 4650 w
(Cache) 3241 4650 w
(and) 3601 4650 w
(would) 3836 4650 w
(not) 4194 4650 w
(provide) 4407 4650 w
(much) 4845 4650 w
(bene\255) 5175 4650 w
(fit.) 720 4780 w
(With) 942 4780 w
(the) 1216 4780 w
11 /LucidaTypewriter f
(conf.fastworm) 1426 4780 w
11 /LucidaSansUnicode00 f
(option,) 2492 4780 w
(the) 2910 4780 w
(cache) 3120 4780 w
(only) 3462 4780 w
(need) 3725 4780 w
(to) 4025 4780 w
(be) 4172 4780 w
(large) 4342 4780 w
(enough) 4649 4780 w
(to) 5089 4780 w
(hold) 5236 4780 w
(the) 720 4910 w
(free) 944 4910 w
(list) 1207 4910 w
(and) 1421 4910 w
(any) 1672 4910 w
(blocks) 1911 4910 w
(in) 2308 4910 w
(state) 2461 4910 w
11 /LucidaTypewriter f
(dirty) 2775 4910 w
11 /LucidaSansUnicode00 f
(or) 3223 4910 w
11 /LucidaTypewriter f
(write) 3388 4910 w
11 /LucidaSansUnicode00 f
(.) 3783 4910 w
(Eliminating) 3906 4910 w
(the) 4554 4910 w
(cache) 4778 4910 w
(device) 5134 4910 w
(may) 720 5040 w
(make) 982 5040 w
(sense) 1313 5040 w
(in) 1659 5040 w
(the) 1801 5040 w
(future.) 2014 5040 w
(The) 2451 5040 w
(cache) 2692 5040 w
(device) 3037 5040 w
(could) 3417 5040 w
(be) 3751 5040 w
(replaced) 3924 5040 w
(with) 4422 5040 w
(address) 4690 5040 w
(of) 5150 5040 w
(the) 5301 5040 w
(current) 720 5170 w
(Superblock.) 1152 5170 w
(Addresses) 1860 5170 w
(below) 2458 5170 w
(the) 2820 5170 w
(current) 3038 5170 w
(Superblock) 3469 5170 w
(would) 4106 5170 w
(be) 4473 5170 w
(read) 4650 5170 w
(only.) 4933 5170 w
(The) 5273 5170 w
(disadvantage) 720 5300 w
(to) 1467 5300 w
(such) 1617 5300 w
(a) 1907 5300 w
(scheme) 2010 5300 w
(is) 2458 5300 w
(that) 2588 5300 w
(the) 2841 5300 w
(dump) 3054 5300 w
(processes) 3404 5300 w
(gives) 3975 5300 w
(the) 4292 5300 w
(\(unused\)) 4505 5300 w
(opportu\255) 5010 5300 w
(nity to optimize) 720 5430 w
(the) 1599 5430 w
(ordering of) 1805 5430 w
11 /LucidaTypewriter f
(w-address) 2439 5430 w
11 /LucidaSansUnicode00 f
(es.) 3150 5430 w
11 /LucidaSans-Demi f
(11.) 720 5690 w
(References) 958 5690 w
11 /LucidaSansUnicode00 f
([1]K.) 720 5860 w
(Thompson,) 1012 5860 w
11 /LucidaSansUnicode20 f
(\034) 1657 5860 w
11 /LucidaSansUnicode00 f
(The) 1698 5860 w
(Plan) 1941 5860 w
(9) 2208 5860 w
(File) 2322 5860 w
(Server) 2552 5860 w
11 /LucidaSansUnicode20 f
(\035) 2882 5860 w
11 /LucidaSansUnicode00 f
(,) 2923 5860 w
(Plan) 3003 5860 w
(9) 3270 5860 w
(Programmer) 3384 5860 w
11 /LucidaSansUnicode20 f
(\031) 4042 5860 w
11 /LucidaSansUnicode00 f
(s) 4077 5860 w
(Manual,) 4178 5860 w
(Second) 4643 5860 w
(Edition,) 5069 5860 w
(volume) 720 5990 w
(2, AT&T Bell) 1143 5990 w
(Laboratories, Murry Hill, NJ, 1995.) 1833 5990 w
([2]K.) 720 6160 w
(Thompson,) 1054 6160 w
(G.) 1742 6160 w
(Collyer,) 1943 6160 w
11 /LucidaSansUnicode20 f
(\034) 2436 6160 w
11 /LucidaSansUnicode00 f
(The) 2477 6160 w
(64-Bit) 2763 6160 w
(Standalone) 3189 6160 w
(Plan) 3864 6160 w
(9) 4173 6160 w
(File) 4329 6160 w
(Server) 4601 6160 w
11 /LucidaSansUnicode20 f
(\035) 4931 6160 w
11 /LucidaSansUnicode00 f
(,) 4972 6160 w
(Plan) 5094 6160 w
(9) 5403 6160 w
(Programmer) 720 6290 w
11 /LucidaSansUnicode20 f
(\031) 1378 6290 w
11 /LucidaSansUnicode00 f
(s) 1413 6290 w
(Manual,) 1514 6290 w
(Fourth) 1979 6290 w
(Edition,) 2372 6290 w
(volume) 2820 6290 w
(2,) 3252 6290 w
(AT&T) 3400 6290 w
(Bell) 3735 6290 w
(Laboratories,) 3969 6290 w
(Murry) 4712 6290 w
(Hill,) 5066 6290 w
(NJ,) 5322 6290 w
(2002.) 720 6420 w
([3]S.) 720 6590 w
(Quinlan,) 1002 6590 w
11 /LucidaSansUnicode20 f
(\034) 1499 6590 w
11 /LucidaSansUnicode00 f
(A) 1540 6590 w
(Cached) 1663 6590 w
(WORM) 2102 6590 w
(File) 2494 6590 w
(System) 2726 6590 w
11 /LucidaSansUnicode20 f
(\035) 3103 6590 w
11 /LucidaSansUnicode00 f
(,) 3144 6590 w
11 /LucidaSans-Italic f
(Software) 3226 6590 w
11 /LucidaSansUnicode20 f
(\024) 3746 6590 w
11 /LucidaSans-Italic f
(Practice) 3904 6590 w
(and) 4378 6590 w
(Experience) 4628 6590 w
11 /LucidaSansUnicode00 f
(,) 5197 6590 w
(vol\255) 5280 6590 w
(ume) 720 6720 w
(21, number 12, pp. 1289) 987 6720 w
11 /LucidaSansUnicode20 f
(\024) 2336 6720 w
11 /LucidaSansUnicode00 f
(99.) 2446 6720 w
([4]S.) 720 6890 w
(Hopkins,) 1140 6890 w
(B.) 1797 6890 w
(Coile,) 2081 6890 w
11 /LucidaSansUnicode20 f
(\034) 2571 6890 w
11 /LucidaSansUnicode00 f
(ATA) 2612 6890 w
(over) 3019 6890 w
(Ethernet) 3436 6890 w
11 /LucidaSansUnicode20 f
(\035) 3882 6890 w
11 /LucidaSansUnicode00 f
(,) 3923 6890 w
(published) 4144 6890 w
(online) 4855 6890 w
(at) 5370 6890 w
(http://www.coraid.com/documents/AoEr10.txt) 720 7020 w
([5]A.) 720 7190 w
(Tanenbaum) 1022 7190 w
11 /LucidaSans-Italic f
(Operating) 1700 7190 w
(Systems,) 2290 7190 w
(design) 2808 7190 w
(and) 3205 7190 w
(implementation) 3458 7190 w
11 /LucidaSansUnicode00 f
(,) 4291 7190 w
(Prentice) 4377 7190 w
(Hall,) 4855 7190 w
(Engle\255) 5147 7190 w
(wood Cliffs, New) 720 7320 w
(Jersey, 1987, p. 272.) 1654 7320 w
cleartomark
showpage
saveobj restore
%%EndPage: 6 6
%%Page: 7 7
/saveobj save def
mark
7 pagesetup
11 /LucidaSansUnicode00 f
([6]Diskless Fileserver source) 720 850 w
(code) 2273 850 w
(at) 2562 850 w
(/n/sources/contrib/quanstro/src/myfs.) 2699 850 w
([7]D. Presotto, P. Winterbottom, The) 720 1020 w
(Organization of) 2689 1020 w
(Networks in Plan 9) 3559 1020 w
11 /LucidaSans-Italic f
(Proc. of) 4591 1020 w
(the) 5036 1020 w
(Win\255) 5240 1020 w
(ter) 720 1150 w
(1993 USENIX Conf) 908 1150 w
11 /LucidaSansUnicode00 f
(., pp. 271-280, San Diego, CA) 1881 1150 w
([8]Modified 9load source) 720 1320 w
(code) 2085 1320 w
(at) 2374 1320 w
(/n/sources/contrib/quanstro/src/9loadaoe.) 2511 1320 w
cleartomark
showpage
saveobj restore
%%EndPage: 7 7
%%Trailer
done
%%DocumentFonts: LucidaSansUnicode20 LucidaSansUnicode22 S LucidaSansUnicode00 LucidaSans-Demi LucidaSans-Italic LucidaTypewriter
%%Pages: 7
